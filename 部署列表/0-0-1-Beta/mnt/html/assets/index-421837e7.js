import{r as i,O as e,j as t,K as s,D as o,c as r,B as m}from"./index-52537ad8.js";import p from"./index-cb1725c2.js";import d from"./index-02eb2685.js";import l from"./index-ed30169c.js";import n from"./BuildModal-949ec941.js";import{pipelineGetOneApi as a}from"./pipeline-5a55b6de.js";import"./index-e8e87f63.js";import"./index-7ad95df9.js";import"./index-a2e89248.js";import"./PipelineBuildStatus-7922b5e5.js";import"./index-a5ca1b9c.js";import"./index-8d66853c.js";import"./index-ec1d06fe.js";import"./EditOutlined-4076ffe0.js";import"./index-ec031ef9.js";import"./TextArea-0027e4e6.js";import"./Input-33d09d13.js";import"./index-26e83972.js";import"./Bo-cc27e439.js";import"./index-29520d56.js";import"./api-222992e2.js";import"./api-8573b5cc.js";import"./pipelineBuildApi-4ee185cc.js";import"./buildFlow-6ce25645.js";import"./index-f591dfb2.js";/* empty css              */import"./uilts-69ee15ee.js";import"./dataUtil-0719206a.js";import"./CustomEdge-74ff2b7a.js";import"./StartNode-734aae64.js";/* empty css             */import"./StageNode-d564e060.js";import"./context-8f51d082.js";import"./StepNode-1824497d.js";import"./submitNowform-370ac6e7.js";import"./textSubmit-f698ce92.js";import"./textAreaSubmit-9cc0fcd3.js";import"./SelectSubmit-a0546f42.js";import"./MutSelectSubmit-978c5f1c.js";import"./DateSubmit-7515399a.js";import"./NumberSubmit-d54ed6cf.js";import"./FileUploadSubmit-1e28b47f.js";import"./PlusOutlined-0403edcb.js";const j=()=>{const[j,c]=i.useState(e.close),[x,u]=i.useState(0),[S,b]=i.useState(0),[h,f]=i.useState({}),y=[{key:"1",label:"构建列表",closeIcon:!1,children:t.jsx(p,{pipelineId:S,refresh:x})},{key:"2",label:"归档信息",closeIcon:!1,children:t.jsx(d,{})},{key:"3",label:"操作日志",closeIcon:!1,children:t.jsx(l,{pipelineId:S,refresh:x})}],I=t.jsx("div",{children:t.jsx(m,{type:"primary",onClick:async()=>{c(e.add)},style:{marginRight:10},children:"构建"})});return i.useEffect((()=>((async()=>{const i=new URLSearchParams(window.location.search),e=parseInt(i.get("pipelineId"));b(e);let t=await a({id:e});r(t)||f(t.data)})(),()=>{})),[]),t.jsxs("div",{children:[t.jsx("div",{children:t.jsx(s,{hideAdd:!0,type:"editable-card",defaultActiveKey:"1",items:y,onChange:i=>{},tabBarExtraContent:I})}),t.jsx("div",{children:t.jsx(o,{title:"构建流水线",open:j!==e.close,footer:!1,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>c(e.close),children:t.jsx(n,{setBuildModalFn:c,detailId:S,reloadTable:()=>{c(e.close),u((i=>i+1))}})})})]})};export{j as default};
