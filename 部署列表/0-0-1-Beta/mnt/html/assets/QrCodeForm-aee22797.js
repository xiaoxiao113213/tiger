import{i as e,B as t,bg as n,X as s,b9 as o,ba as l,bh as r,bi as a,bj as i,bk as c,r as d,bb as u,bl as g,bd as b,bm as m,at as h,u as p,l as f,L as x,j as v}from"./index-10719960.js";import{ReturnButton as C}from"./ReturnButton-56e0b305.js";import{Q as y,a as j}from"./QRCodeSVG-ffc224cf.js";const R=e.createElement(s,null);function O(s){let{prefixCls:o,locale:l,onRefresh:r,statusRender:a,status:i}=s;const c=e.createElement(e.Fragment,null,e.createElement("p",{className:`${o}-expired`},null==l?void 0:l.expired),r&&e.createElement(t,{type:"link",icon:e.createElement(n,null),onClick:r},null==l?void 0:l.refresh)),d=e.createElement("p",{className:`${o}-scanned`},null==l?void 0:l.scanned),u={expired:c,loading:R,scanned:d};return(null!=a?a:e=>u[e.status])({status:i,locale:l,onRefresh:r})}const k=o("QRCode",(e=>(e=>{const{componentCls:t,lineWidth:n,lineType:s,colorSplit:o}=e;return{[t]:Object.assign(Object.assign({},r(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${a(n)} ${s} ${o}`,position:"relative",overflow:"hidden",[`& > ${t}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${t}-expired, & > ${t}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${t}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}})(l(e,{QRCodeTextColor:e.colorText}))),(e=>({QRCodeMaskBackgroundColor:new i(e.colorBgContainer).setAlpha(.96).toRgbString()})));var S=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const E=t=>{var n,s,o,l;const[,r]=c(),{value:a,type:i="canvas",icon:p="",size:f=160,iconSize:x,color:v=r.colorText,errorLevel:C="M",status:R="active",bordered:E=!0,onRefresh:w,style:N,className:$,rootClassName:T,prefixCls:Q,bgColor:z="transparent",statusRender:B}=t,I=S(t,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:L}=d.useContext(u),M=L("qrcode",Q),[P,F,H]=k(M),W={src:p,x:void 0,y:void 0,height:"number"==typeof x?x:null!==(n=null==x?void 0:x.height)&&void 0!==n?n:40,width:"number"==typeof x?x:null!==(s=null==x?void 0:x.width)&&void 0!==s?s:40,excavate:!0,crossOrigin:"anonymous"},_=g(I,!0),q=b(I,Object.keys(_)),A=Object.assign({value:a,size:f,level:C,bgColor:z,fgColor:v,style:{width:null==N?void 0:N.width,height:null==N?void 0:N.height},imageSettings:p?W:void 0},_),[D]=m("QRCode");if(!a)return null;const G=h(M,$,T,F,H,{[`${M}-borderless`]:!E}),X=Object.assign(Object.assign({backgroundColor:z},N),{width:null!==(o=null==N?void 0:N.width)&&void 0!==o?o:f,height:null!==(l=null==N?void 0:N.height)&&void 0!==l?l:f});return P(e.createElement("div",Object.assign({},q,{className:G,style:X}),"active"!==R&&e.createElement("div",{className:`${M}-mask`},e.createElement(O,{prefixCls:M,locale:D,status:R,onRefresh:w,statusRender:B})),"canvas"===i?e.createElement(y,Object.assign({},A)):e.createElement(j,Object.assign({},A))))};function w(){const{t:e}=p(),{loginState:t,backToLogin:n}=f();return t!==x.QR_CODE?null:v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"mb-4 text-2xl font-bold xl:text-3xl",children:e("sys.login.qrSignInFormTitle")}),v.jsxs("div",{className:"flex w-full flex-col items-center justify-center",children:[v.jsx(E,{value:"https://ant.design/",size:300}),v.jsx("p",{className:"my-4 text-sm",children:e("sys.login.scanSign")})]}),v.jsx(C,{onClick:n})]})}export{w as default};
