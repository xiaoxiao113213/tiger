import{j as e,r as t,g as i,a5 as o,a6 as s}from"./index-f2321b57.js";import{w as a,k as r}from"./blocknote-react-342c25a3.js";import{R as d}from"./index-6daec241.js";const l=a=>{const[r,l]=t.useState(""),n=i();t.useEffect((()=>{(async()=>{try{const e=await s.get("/devops-server/public/biz/download/0/"+a.block.props.fileKey+"?token="+n?.fileToken,{responseType:"blob"}),t=new Blob([e.data],{type:e.data.type});l(URL.createObjectURL(t))}catch(e){}})()}),[]);return e.jsx("div",{children:e.jsx(d,{defaultSize:{width:a.block.props.width||500,height:a.block.props.height||500},onResize:(e,t,i,o)=>{a.editor.updateBlock(a.block,{type:"myImage",props:{width:i.style.width,height:i.style.height}})},children:e.jsx(o,{width:"100%",height:"100%",src:r})})})},n=a({type:"myImage",propSchema:{textAlignment:r.textAlignment,fileKey:{default:""},docTreeId:{default:0},fileName:{default:""},width:{default:500},height:{default:500}},content:"inline"},{render:t=>e.jsx("div",{ref:t.contentRef,children:e.jsx(l,{...t})})});export{n as MyImage};
