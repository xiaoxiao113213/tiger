import{F as e,r as l,d as a,j as r,I as s,B as d,O as t,Y as i,m as c}from"./index-03adb9ee.js";import{messageGetOneApi as m,messageUpdateApi as n,messageSaveApi as u}from"./api-6a07dbe1.js";const o=o=>{const[x]=e.useForm(),[p,h]=l.useState(a);return l.useEffect((()=>((async()=>{if(o.operateEnum===t.edit){let e=await m({messageId:o.detailId});h(e.data),x.setFieldsValue(e.data)}else x.setFieldsValue(a())})(),()=>{})),[]),r.jsx("div",{children:r.jsxs(e,{form:x,labelCol:{flex:"10%"},wrapperCol:{flex:"90%"},children:[r.jsx(e.Item,{label:"messageId",name:"messageId",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"type",name:"type",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"status",name:"status",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"title",name:"title",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"msg",name:"msg",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"createBy",name:"createBy",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"remarks",name:"remarks",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"bizId",name:"bizId",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"toAccountId",name:"toAccountId",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"createTime",name:"createTime",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"updateBy",name:"updateBy",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"updateTime",name:"updateTime",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"deleteFlag",name:"deleteFlag",rules:[{required:!0}],children:r.jsx(s,{placeholder:"请输入"})}),r.jsxs(e.Item,{wrapperCol:{offset:8,span:16},style:{textAlign:"right"},children:[r.jsx(d,{type:"default",onClick:()=>{o.setAddOrUpdateModalFn(t.close)},style:{marginRight:20},children:"取消"}),r.jsx(d,{type:"primary",onClick:async()=>{if(!(await x.validateFields().catch((()=>!1))))return;const e=await(x?.getFieldsValue());let l;i(e),l=o.operateEnum===t.edit?await n({...e,messageId:o.detailId}):await u({...e}),1e3===l.code&&(c.success(l.msg),o.reloadTable(),o.setAddOrUpdateModalFn(t.close))},children:"确定"})]})]})})};export{o as default};
