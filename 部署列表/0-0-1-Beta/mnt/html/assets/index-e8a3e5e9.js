import{r as e,O as t,j as a,P as s,B as i,a3 as d,D as l,T as o}from"./index-03adb9ee.js";import r from"./detail-3422bfb7.js";import n from"./addOrUpdate-a32be4cd.js";import{applicationPageApi as c}from"./api-d442e634.js";import{P as p}from"./PlusOutlined-b4032aa8.js";import"./index-88ad5331.js";import"./index-3585a1a3.js";import"./index-a2b78009.js";import"./EditOutlined-d7a61630.js";const u=()=>{const u=e.useRef(),[m,x]=e.useState(t.close),[h,j]=e.useState(),[y,f]=e.useState(t.close),g=e=>{j(e?.id),f(e?t.edit:t.add)};e.useEffect((()=>{}),[]);const T=[{title:"名称",dataIndex:"name",valueType:"text",copyable:!1},{title:"编码",dataIndex:"code",valueType:"text",copyable:!0},{title:"排序",dataIndex:"sort",valueType:"text",search:!1},{disable:!0,title:"状态",dataIndex:"disabled",search:!1,render:(e,{disabled:t})=>0===t?a.jsx(o,{color:"green",children:"启用"}):a.jsx(o,{color:"red",children:"禁用"})},{title:"备注",dataIndex:"remarks",valueType:"text",ellipsis:!0,width:80,search:!1},{title:"创建人",dataIndex:"createBy",ellipsis:!0,search:!1,render:(e,t)=>t.createByAccount.account},{title:"创建时间",key:"showTime",dataIndex:"createTime",valueType:"dateTime",sorter:!0,search:!1},{title:"操作",valueType:"option",key:"option",width:100,render:(e,s,i,l)=>[a.jsx("a",{onClick:()=>(e=>{j(e.id),x(t.detail)})(s),children:"详情"},"detail"),a.jsx("a",{onClick:()=>g(s),hidden:d("application:edit"),children:"编辑"},"log")]}];return a.jsxs("div",{children:[a.jsx(s,{columns:T,actionRef:u,cardBordered:!0,params:{},request:async(e={},t,a)=>{let s={pageNum:e.current,pageSize:e.pageSize,pageSort:t},i=await c({...e,...s});return{data:i.data.list,success:1e3===i.code,total:i.data.total}},editable:{type:"multiple"},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",onChange(e){}},rowKey:"id",search:{labelWidth:"auto",defaultCollapsed:!1},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{defaultPageSize:10,showSizeChanger:!0},dateFormatter:"string",headerTitle:"应用列表",toolBarRender:()=>[a.jsx(i,{icon:a.jsx(p,{}),onClick:()=>{g()},type:"primary",hidden:d("application:edit"),children:"新建"},"button")]}),a.jsx(l,{title:"应用详情",open:m!==t.close,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>x(t.close),footer:null,children:a.jsx("div",{children:a.jsx(r,{detailId:h})})}),a.jsx(l,{title:y==t.edit?"应用编辑":"应用新增",open:y!==t.close,width:"50%",destroyOnClose:!0,maskClosable:!1,onClose:()=>f(t.close),footer:null,children:a.jsx("div",{children:a.jsx(n,{detailId:h??0,operateEnum:y,setAddOrUpdateModalFn:f,reloadTable:()=>{u.current?.reload()}})})})]})};export{u as default};
