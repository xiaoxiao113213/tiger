import{r as t,j as e,T as s,ab as i}from"./index-1fe6dff8.js";import{processInstanceGetOneApi as o}from"./processInstanceApi-4791703b.js";import{G as n}from"./ProcessInstanceStatusDic-db480930.js";import{F as r}from"./uilts-d0a0e0a8.js";import l from"./index-ad901ab1.js";import a from"./pointList-55c9251a.js";import{P as c}from"./index-262ec5ed.js";import"./dicApi-b68549fb.js";import"./Bo-9e2098a1.js";import"./index-adfb8488.js";import"./Timeline-f29f8850.js";import"./index-debe4a2e.js";import"./index-80d88ab0.js";import"./EditOutlined-fbc989f8.js";const d=d=>{const[p,m]=t.useState(),[j,x]=t.useState([]),{processInstanceStatusMap:u,processInstanceStatusList:I}=n();return t.useEffect((()=>((async()=>{let t=await o({processInstanceId:d.detailId});m(t.data);const e=t.data.pointList.find((t=>t.type===r.startNode));if(!e)return;const s=t.data.pointFormList.find((t=>t.processInstancePointId===e.processInstancePointId));if(!s)return;const i=t.data.pointFieldList.filter((t=>t.processInstancePointFormId===s.processInstancePointFormId));x(i)})(),()=>{})),[]),p?e.jsxs("div",{style:{display:"flex"},children:[e.jsxs("div",{style:{flexGrow:1,minWidth:0},children:[e.jsxs(c,{column:2,title:"",tooltip:"",children:[e.jsx(c.Item,{label:"标题",tooltip:"",valueType:"text",children:p?.title},"title"),e.jsx(c.Item,{label:"状态",tooltip:"",children:(()=>{let t=u[p?.status];return e.jsx(s,{color:t?.color??"green",children:t?.label})})()},"status"),e.jsx(c.Item,{label:"申请人",tooltip:"",valueType:"text",children:p?.createByAccount?.account},"createBy"),e.jsx(c.Item,{label:"申请时间",tooltip:"",valueType:"text",children:p?.createTime},"createTime"),e.jsx(c.Item,{label:"结束时间",tooltip:"",valueType:"text",children:p?.endTime},"endTime")]}),e.jsx(i,{children:"表单"}),e.jsx(l,{initFieldBoList:j}),e.jsx(i,{})]}),e.jsx("div",{style:{width:"300px",flexShrink:0},children:e.jsx(a,{instanceDetail:p})})]}):null};export{d as default};
