import{r as e,O as t,j as i,P as a,B as o,D as s,T as l,M as r,c as n,m as d}from"./index-1fe6dff8.js";import p from"./detail-72a63cd2.js";import c from"./addOrUpdate-581d547f.js";import{aiPipelinePageApi as m,aiPipelineDeleteApi as j}from"./api-ad2d1d47.js";import u from"./bord-c6bab9e3.js";import{P as x}from"./PlusOutlined-73232e7a.js";import"./index-adfb8488.js";import"./index-9cc62199.js";import"./ApiBo-7bf4b2f4.js";import"./pointApi-9de20fe6.js";/* empty css              */import"./StartNode-6c6d8f7c.js";import"./Title-952b03be.js";import"./Input-f98aea5e.js";import"./TextArea-08e23fd4.js";import"./varApi-95f79749.js";import"./DeleteOutlined-916130f1.js";import"./EndNode-f231c891.js";import"./endOutputForm-c449c178.js";import"./edgeApi-d16a4620.js";import"./AiTextNode-f650331a.js";import"./dicApi-b68549fb.js";import"./inputForm-3c8dd21e.js";import"./outputForm-cbabbb73.js";import"./TextAi1Test-63ba85b5.js";import"./index-47043337.js";import"./FileUploadCom-a72168c5.js";import"./utils-b346c468.js";import"./RightSquareTwoTone-e5897024.js";import"./Timeline-f29f8850.js";import"./AiTextToPicNode-ecff897b.js";import"./inputForm-0adb3ce3.js";import"./outputForm-c95a633f.js";import"./ChatModelDic-185503a8.js";import"./api-feea1d37.js";const y=()=>{const y=e.useRef(),[h,T]=e.useState(t.close),[C,I]=e.useState(),[f,g]=e.useState(t.close),[b,v]=e.useState(t.close),k=e=>{I(e?.aiPipelineId),g(e?t.edit:t.add)};e.useEffect((()=>{}),[]);const P=[{title:"ID",dataIndex:"aiPipelineId",valueType:"text",copyable:!1,search:!1},{title:"标题",dataIndex:"name",valueType:"text",copyable:!1,search:!1},{title:"描述",dataIndex:"remarks",valueType:"text",copyable:!1,search:!1,ellipsis:!0},{title:"创建人",dataIndex:"createBy",valueType:"text",copyable:!1,search:!1,render:(e,{createByAccount:t})=>t?.nickName},{title:"创建时间",dataIndex:"createTime",valueType:"text",copyable:!1,search:!1},{title:"更新人",dataIndex:"updateBy",valueType:"text",copyable:!1,search:!1,render:(e,{updateByAccount:t})=>t?.nickName},{title:"更新时间",dataIndex:"updateTime",valueType:"text",copyable:!1,search:!1},{title:"操作",valueType:"option",key:"option",render:(e,a,o,s)=>[i.jsx("a",{onClick:()=>{I(a.aiPipelineId),v(t.add)},children:"编排"},"pipeline"),i.jsx("a",{onClick:()=>(e=>{I(e.aiPipelineId),T(t.detail)})(a),children:"详情"},"detail"),i.jsx("a",{onClick:()=>k(a),children:"编辑"},"edit"),i.jsx("a",{onClick:()=>(async e=>{r?.confirm({title:"是否确认删除",icon:null,onOk:async()=>{let t=await j({aiPipelineId:e.aiPipelineId});n(t)||(d.success(t.msg),y.current?.reload())}})})(a),children:"删除"},"del")]}];return i.jsxs("div",{children:[i.jsx(a,{columns:P,actionRef:y,cardBordered:!0,params:{},request:async(e={},t,i)=>{let a={pageNum:e.current,pageSize:e.pageSize,pageSort:t},o=await m({...e,...a});return{data:o.data.list,success:1e3===o.code,total:o.data.total}},editable:{type:"multiple"},columnsState:{persistenceKey:"aiPipeline-pro-table",persistenceType:"localStorage",onChange(e){}},rowKey:"aiPipelineId",search:{labelWidth:"auto",defaultCollapsed:!1},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{defaultPageSize:10,showSizeChanger:!0},dateFormatter:"string",headerTitle:"列表",toolBarRender:()=>[i.jsx(o,{icon:i.jsx(x,{}),onClick:()=>{k()},type:"primary",children:"新建"},"button")]}),i.jsx(s,{title:"详情",open:h!==t.close,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>T(t.close),footer:null,children:i.jsx("div",{children:i.jsx(p,{detailId:C})})}),i.jsx(s,{title:f==t.edit?"编辑":"新增",open:f!==t.close,width:"50%",destroyOnClose:!0,maskClosable:!1,onClose:()=>g(t.close),footer:null,children:i.jsx("div",{children:i.jsx(c,{detailId:C??0,operateEnum:f,setAddOrUpdateModalFn:g,reloadTable:()=>{y.current?.reload()}})})}),i.jsx(s,{title:i.jsxs("div",{style:{alignItems:"center",alignContent:"center",width:"100%"},children:[i.jsx("span",{children:"编排"}),i.jsx(l,{color:"red",style:{marginLeft:"30px"},children:"流水线的命名，描述，参数的命名和描述 至关重要，ai会去根据这些命名自动化的去赋予对应的参数值和调用"})]}),open:b!==t.close,width:"100%",destroyOnClose:!0,maskClosable:!1,onClose:()=>v(t.close),footer:null,children:i.jsx("div",{children:i.jsx(u,{aiPipelineId:C??0,closeModal:()=>v(t.close)})})})]})};export{y as default};
