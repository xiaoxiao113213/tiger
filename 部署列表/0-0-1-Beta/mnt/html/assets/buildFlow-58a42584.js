import{j as e,r as t}from"./index-1fe6dff8.js";import{R as s,u as o,l as i,m as d,i as n,n as r,C as a,B as m}from"./index-9cc62199.js";/* empty css              */import{M as l}from"./uilts-d0a0e0a8.js";import{buildData as p}from"./dataUtil-5d582940.js";import j from"./CustomEdge-26faa487.js";import c from"./StartNode-fa410e19.js";import f from"./StageNode-df1c8005.js";import u from"./StepNode-eadddb6f.js";/* empty css             */import"./context-1bb94677.js";const g={startNode:c,stageNode:f,stepNode:u},x={"custom-edge":j},h=s=>{let j=o();const[c,f,u]=i([]),[h,y,N]=d([]),S=async()=>{let e=p(s?.detail?.pipelineBuildStageList??[]);f([...e.nodes]),y([...e.edges]),setTimeout((()=>{j.fitView()}),200)};return t.useEffect((()=>{S()}),[s.detail]),e.jsx(l.Provider,{value:{initData:S},children:e.jsxs(n,{nodes:c,edges:h,connectionLineType:r.SmoothStep,defaultEdgeOptions:{animated:!0,type:"custom-edge"},nodeTypes:g,edgeTypes:x,fitView:!0,minZoom:.01,zoomOnScroll:!1,children:[e.jsx(a,{}),e.jsx(m,{variant:"dots",gap:12,size:1})]})})};function y(t){return e.jsx("div",{style:{width:"100%",height:"50vh"},children:e.jsx(s,{children:e.jsx(h,{detail:t.detail,nodeClickFn:t.nodeClickFn})})})}export{y as default};
