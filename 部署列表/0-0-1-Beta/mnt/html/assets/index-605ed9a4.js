import{r as e,O as i,j as t,K as s,D as o,c as r,B as p}from"./index-f2321b57.js";import m from"./index-273d0aea.js";import d from"./index-701c9294.js";import l from"./index-8e130e92.js";import n from"./BuildModal-71b0d489.js";import{pipelineGetOneApi as a}from"./pipeline-69e8b66b.js";import"./index-c0ac6eb2.js";import"./index-7ad95df9.js";import"./index-22f11d71.js";import"./PipelineBuildStatus-7922b5e5.js";import"./index-55f4da4c.js";import"./index-e51db6e5.js";import"./index-d54aef2b.js";import"./EditOutlined-1e526840.js";import"./index-82d8a55f.js";import"./TextArea-47627076.js";import"./Input-f009b856.js";import"./index-26718f3e.js";import"./Bo-900708b2.js";import"./index-34f1d395.js";import"./api-d0d1aa93.js";import"./api-557990cc.js";import"./pipelineBuildApi-6237b796.js";import"./buildFlow-f691a690.js";import"./index-da2797ee.js";/* empty css              */import"./uilts-e16e3ac3.js";import"./dataUtil-92029b97.js";import"./CustomEdge-528ca68e.js";import"./StartNode-897efea8.js";/* empty css             */import"./StageNode-ff3c80ef.js";import"./context-f250ab70.js";import"./StepNode-62b3eb45.js";import"./submitNowform-f35e2701.js";import"./textSubmit-4229c5b2.js";import"./textAreaSubmit-14d30dcb.js";import"./SelectSubmit-d0c3571a.js";import"./MutSelectSubmit-d4556965.js";import"./DateSubmit-41050df2.js";import"./NumberSubmit-9c6b3724.js";import"./FileUploadSubmit-a4029aca.js";import"./PlusOutlined-0e19b652.js";const j=()=>{const[j,c]=e.useState(i.close),[x,u]=e.useState(0),[S,h]=e.useState(0),[b,f]=e.useState({}),y=[{key:"1",label:"构建列表",closeIcon:!1,children:t.jsx(m,{pipelineId:S,refresh:x})},{key:"2",label:"归档信息",closeIcon:!1,children:t.jsx(d,{})},{key:"3",label:"操作日志",closeIcon:!1,children:t.jsx(l,{pipelineId:S,refresh:x})}],I=t.jsx("div",{children:t.jsx(p,{type:"primary",onClick:async()=>{c(i.add)},style:{marginRight:10},children:"构建"})});return e.useEffect((()=>((async()=>{const e=new URLSearchParams(window.location.search),i=parseInt(e.get("pipelineId"));h(i);let t=await a({id:i});r(t)||f(t.data)})(),()=>{})),[]),t.jsxs("div",{children:[t.jsx("div",{children:t.jsx(s,{hideAdd:!0,type:"editable-card",defaultActiveKey:"1",items:y,onChange:e=>{},tabBarExtraContent:I})}),t.jsx("div",{children:t.jsx(o,{title:"构建流水线",open:j!==i.close,footer:!1,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>c(i.close),children:t.jsx(n,{setBuildModalFn:c,detailId:S,reloadTable:()=>{c(i.close),u((e=>e+1))}})})})]})};export{j as default};
