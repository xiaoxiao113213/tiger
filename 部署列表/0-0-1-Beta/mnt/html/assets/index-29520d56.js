import{r as e,g as t,j as n}from"./index-52537ad8.js";import{d as o}from"./TextArea-0027e4e6.js";import"./Input-33d09d13.js";var r=(e=>(e[e.pipeline=0]="pipeline",e[e.step=1]="step",e))(r||{});const s=r=>{const[s,i]=e.useState("");return e.useEffect((()=>{const e=t()?.accessToken??"";let n="/devops-server/pipelineBuild";0===r.type?n=n+"/getAllLog/"+r.buildDetailId+"/0/"+e:n+=`/getStepLog/${r.buildDetailId}/${r.buildStepId}/0/${e}`;const o=new EventSource(""+n);return o.addEventListener("open",(function(e){}),!1),o.addEventListener("message",(function(e){const t=JSON.parse(e.data);i((e=>e+t.msg))})),o.addEventListener("error",(function(e){})),()=>{o.close()}}),[]),n.jsx("div",{children:n.jsx(o,{autoSize:!0,value:s,readOnly:!0,style:{backgroundColor:"black",fontFamily:"Courier New",fontSize:"14px",padding:"10px",color:"white",border:"1px solid white"}})})};export{r as LogTypeEnum,s as default};
