import{r as e,i as t,F as r,j as i,B as s,D as o,m}from"./index-52537ad8.js";import n from"./formComponent-546559ea.js";import l from"./index-f6caee0f.js";import{C as a}from"./index-8d66853c.js";import"./Title-0f7b284b.js";import"./Input-33d09d13.js";import"./TextArea-0027e4e6.js";import"./Bo-cc27e439.js";import"./customerFieldNew-1985dcb7.js";import"./customerText-7f38fb85.js";import"./customerTextArea-84d38379.js";import"./customerSelect-aabfe871.js";import"./MinusCircleOutlined-37395b9b.js";import"./MinusCircleOutlined-47af1d51.js";import"./PlusOutlined-0403edcb.js";import"./customerMutSelect-c1e3cf9e.js";import"./CustomerFile-7877d17f.js";import"./CustomerDate-9ed3e0ba.js";import"./customerNumber-33ced8f3.js";import"./DeleteOutlined-104cbf00.js";import"./textSubmit-f698ce92.js";import"./textAreaSubmit-9cc0fcd3.js";import"./SelectSubmit-a0546f42.js";import"./MutSelectSubmit-978c5f1c.js";import"./FileSubmit-f1303890.js";import"./DateSubmit-7515399a.js";import"./NumberSubmit-d54ed6cf.js";const p=()=>{const[p,u]=e.useState(!1),j=t.useRef(null),[c]=r.useForm(),[d,x]=e.useState([]);return i.jsxs(i.Fragment,{children:[i.jsx(s,{type:"primary",onClick:()=>{u(!0)},children:"Open Modal"}),i.jsx(a,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:"表单设计"}),i.jsx(s,{type:"primary",onClick:()=>u(!0),children:"设计表单"})]}),children:i.jsx(r,{form:c,validateTrigger:"false",onValuesChange:(e,t)=>{d.forEach((t=>{e.hasOwnProperty(t.id)&&(t.value=e[t.id])})),x(d)},children:d.map((e=>i.jsx(l,{initFieldBo:e},e.id)))})}),i.jsx(o,{title:"表单设计",open:p,onClose:()=>u(!1),extra:i.jsx(s,{onClick:()=>{const e=j.current?.getFieldList();if(!e)return;e.forEach((t=>{if(""===t.keyName)throw m.error("有字段的唯一标识为空"),new Error("有字段的唯一标识为空");const r=e.filter((e=>e.keyName===t.keyName));if(r.length>1)throw m.error(`有重复的唯一标识【${r[0].keyName}】`),new Error(`有重复的唯一标识【${r[0].keyName}】`)})),x(e);const t={};e.forEach((e=>{t[e.id]=e.value})),c.setFieldsValue(t),u(!1)},type:"primary",children:"确定"}),width:"100%",destroyOnClose:!0,keyboard:!1,children:i.jsx(n,{ref:j,initFormDesign:d})})]})};export{p as default};
