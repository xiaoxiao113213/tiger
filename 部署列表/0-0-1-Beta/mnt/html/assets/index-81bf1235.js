import{r as i,O as t,j as e,K as s,D as o,aw as r,c as m,B as p}from"./index-10719960.js";import d from"./index-9356a4da.js";import l from"./index-9d08b630.js";import n from"./index-30152e0d.js";import j from"./BuildModal-b45ede6a.js";import{pipelineGetOneApi as a}from"./pipeline-be6907e2.js";import"./index-671592ad.js";import"./index-7ad95df9.js";import"./index-c0897df1.js";import"./PipelineBuildStatus-7922b5e5.js";import"./index-4b23e8f2.js";import"./index-30b704bf.js";import"./index-be16395f.js";import"./EditOutlined-34dfcda0.js";import"./index-ba9c7ec2.js";import"./TextArea-8948f20d.js";import"./Input-f4f01092.js";import"./index-24e8ffcd.js";import"./Bo-bcadefc8.js";import"./index-97e69ca2.js";import"./api-8371e36c.js";import"./api-7031d208.js";import"./pipelineBuildApi-80d6901c.js";import"./buildFlow-ac7898f7.js";import"./index-937e9b10.js";/* empty css              */import"./uilts-00b5353e.js";import"./dataUtil-ca5e79c2.js";import"./CustomEdge-98f3759d.js";import"./StartNode-5fcdb7d3.js";/* empty css             */import"./StageNode-c82f7ab2.js";import"./context-32bea82b.js";import"./StepNode-5285dab5.js";import"./submitNowform-3ec5b855.js";import"./textSubmit-5aad76e3.js";import"./textAreaSubmit-e3064045.js";import"./SelectSubmit-fba154f7.js";import"./MutSelectSubmit-7d2986fa.js";import"./DateSubmit-7b5457eb.js";import"./NumberSubmit-61c4b5e2.js";import"./FileUploadSubmit-b86f5e72.js";import"./PlusOutlined-cc4f568a.js";const c=()=>{const[c,x]=i.useState(t.close),[u,S]=i.useState(0),[b,f]=i.useState(0),[h,y]=i.useState({}),I=[{key:"1",label:"构建列表",closeIcon:!1,children:e.jsx(d,{pipelineId:b,refresh:u})},{key:"2",label:"归档信息",closeIcon:!1,children:e.jsx(l,{})},{key:"3",label:"操作日志",closeIcon:!1,children:e.jsx(n,{pipelineId:b,refresh:u})}],k=e.jsx("div",{children:e.jsx(p,{type:"primary",onClick:async()=>{x(t.add)},style:{marginRight:10},children:"构建"})});return i.useEffect((()=>((async()=>{const i=r(),t=parseInt(i.get("pipelineId"));f(t);let e=await a({id:t});m(e)||y(e.data)})(),()=>{})),[]),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(s,{hideAdd:!0,type:"editable-card",defaultActiveKey:"1",items:I,onChange:i=>{},tabBarExtraContent:k})}),e.jsx("div",{children:e.jsx(o,{title:"构建流水线",open:c!==t.close,footer:!1,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>x(t.close),children:e.jsx(j,{setBuildModalFn:x,detailId:b,reloadTable:()=>{x(t.close),S((i=>i+1))}})})})]})};export{c as default};
