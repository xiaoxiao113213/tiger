import{F as e,r as l,j as r,R as s,b as a,S as i,B as n,a8 as d}from"./index-03adb9ee.js";import{pipelineGetOneApi as t,pipelineUpdateOtherApi as o}from"./pipeline-ea2f224f.js";import{C as u}from"./index-3585a1a3.js";const c=c=>{const[m]=e.useForm(),[p,h]=l.useState([]),[j,x]=l.useState(),[f,v]=l.useState(0);if(l.useEffect((()=>((async()=>{d().then((e=>{h(e.data)})),t({id:c.pipelineId}).then((e=>{x(e.data),m.setFieldsValue(e.data),v(e.data.email)}))})(),()=>{})),[]),!j)return r.jsx("div",{children:"loading..."});if(!p)return r.jsx("div",{children:"loading..."});return r.jsx(u,{children:r.jsxs("div",{children:[r.jsxs(e,{name:"user",autoComplete:"off",form:m,children:[r.jsx(e.Item,{label:"是否运行并行构建",name:"parallel",rules:[{required:!0}],children:r.jsxs(s.Group,{children:[r.jsx(s,{value:0,children:" 不允许 "}),r.jsx(s,{value:1,children:" 允许 "})]})}),r.jsx(e.Item,{label:"固定时间触发",name:"timer",rules:[{required:!0}],children:r.jsxs(s.Group,{children:[r.jsx(s,{value:0,children:" 不开启 "}),r.jsx(s,{value:1,children:" 开启 "})]})}),r.jsx(e.Item,{label:"",name:"timerCron",rules:[{required:!0}],children:r.jsx(a,{placeholder:"请输入",addonAfter:"/分钟"})}),r.jsx(e.Item,{label:"邮件通知",name:"email",rules:[{required:!0}],children:r.jsxs(s.Group,{onChange:e=>{v(e.target.value)},children:[r.jsx(s,{value:0,children:" 不发送 "}),r.jsx(s,{value:1,children:" 发送 "})]})}),1===f&&r.jsx(e.Item,{label:"邮件通知人员",name:"emailUser",rules:[{required:!1}],labelCol:{span:24},wrapperCol:{span:24},children:r.jsx(i,{style:{width:"100%"},mode:"multiple",showSearch:!0,optionFilterProp:"label",placeholder:"请选择人员",options:p})})]}),r.jsx("div",{style:{marginTop:"20px",display:"flex",justifyContent:"center"},children:r.jsx(n,{type:"primary",onClick:()=>{const e=m.getFieldsValue();o({id:c.pipelineId,...e}),c.closeFn()},children:"保存"})})]})})};export{c as default};
