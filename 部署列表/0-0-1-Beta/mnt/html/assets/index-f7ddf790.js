import{r as e,i as t,F as r,j as i,B as s,D as o,m}from"./index-10719960.js";import n from"./formComponent-402c7b18.js";import l from"./index-fb93998c.js";import{C as a}from"./index-30b704bf.js";import"./Title-5ea514a5.js";import"./Input-f4f01092.js";import"./TextArea-8948f20d.js";import"./Bo-bcadefc8.js";import"./customerFieldNew-bd52e5d5.js";import"./customerText-ab37e497.js";import"./customerTextArea-fdf43c64.js";import"./customerSelect-0b789148.js";import"./MinusCircleOutlined-f32dd4d0.js";import"./MinusCircleOutlined-47af1d51.js";import"./PlusOutlined-cc4f568a.js";import"./customerMutSelect-2ed19145.js";import"./CustomerFile-b6b47294.js";import"./CustomerDate-c212afd9.js";import"./customerNumber-f42eabd0.js";import"./DeleteOutlined-91444ec2.js";import"./textSubmit-5aad76e3.js";import"./textAreaSubmit-e3064045.js";import"./SelectSubmit-fba154f7.js";import"./MutSelectSubmit-7d2986fa.js";import"./FileSubmit-52898802.js";import"./DateSubmit-7b5457eb.js";import"./NumberSubmit-61c4b5e2.js";const p=()=>{const[p,u]=e.useState(!1),j=t.useRef(null),[c]=r.useForm(),[d,x]=e.useState([]);return i.jsxs(i.Fragment,{children:[i.jsx(s,{type:"primary",onClick:()=>{u(!0)},children:"Open Modal"}),i.jsx(a,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:"表单设计"}),i.jsx(s,{type:"primary",onClick:()=>u(!0),children:"设计表单"})]}),children:i.jsx(r,{form:c,validateTrigger:"false",onValuesChange:(e,t)=>{d.forEach((t=>{e.hasOwnProperty(t.id)&&(t.value=e[t.id])})),x(d)},children:d.map((e=>i.jsx(l,{initFieldBo:e},e.id)))})}),i.jsx(o,{title:"表单设计",open:p,onClose:()=>u(!1),extra:i.jsx(s,{onClick:()=>{const e=j.current?.getFieldList();if(!e)return;e.forEach((t=>{if(""===t.keyName)throw m.error("有字段的唯一标识为空"),new Error("有字段的唯一标识为空");const r=e.filter((e=>e.keyName===t.keyName));if(r.length>1)throw m.error(`有重复的唯一标识【${r[0].keyName}】`),new Error(`有重复的唯一标识【${r[0].keyName}】`)})),x(e);const t={};e.forEach((e=>{t[e.id]=e.value})),c.setFieldsValue(t),u(!1)},type:"primary",children:"确定"}),width:"100%",destroyOnClose:!0,keyboard:!1,children:i.jsx(n,{ref:j,initFormDesign:d})})]})};export{p as default};
