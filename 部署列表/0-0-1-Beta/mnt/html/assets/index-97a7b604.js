import{r as e,O as t,j as a,P as l,B as o,D as s,M as d,c as r,m as i}from"./index-10719960.js";import n from"./detail-d2079569.js";import c from"./addOrUpdate-6bc9925a.js";import{aiModelPageApi as p,aiModelDeleteApi as u}from"./api-fc0fe320.js";import{P as x}from"./PlusOutlined-cc4f568a.js";import"./index-be16395f.js";const y=()=>{const y=e.useRef(),[h,m]=e.useState(t.close),[j,I]=e.useState(),[b,f]=e.useState(t.close),g=e=>{I(e?.aiModelId),f(e?t.edit:t.add)};e.useEffect((()=>{}),[]);const T=[{title:"ID",dataIndex:"aiModelId",valueType:"text",copyable:!1,search:!1},{title:"所属平台",dataIndex:"belong",valueType:"text",copyable:!1,search:!1},{title:"模型类型",dataIndex:"type",copyable:!1,search:!1,render:(e,{type:t})=>t.join("/")},{title:"名称",dataIndex:"name",valueType:"text",copyable:!1,search:!1},{title:"模型编码",dataIndex:"code",valueType:"text",copyable:!1,search:!1},{title:"上下文长度",dataIndex:"contextLength",valueType:"text",copyable:!1,search:!1},{title:"最大输入量",dataIndex:"maxInput",valueType:"text",copyable:!1,search:!1},{title:"最大输出量",dataIndex:"maxOutput",valueType:"text",copyable:!1,search:!1},{title:"排序",dataIndex:"sort",valueType:"text",copyable:!1,search:!1},{title:"说明",dataIndex:"remarks",valueType:"text",copyable:!1,search:!1},{title:"操作",valueType:"option",key:"option",width:120,render:(e,t,l,o)=>[a.jsx("a",{onClick:()=>g(t),children:"编辑"},"edit"),a.jsx("a",{onClick:()=>(async e=>{d?.confirm({title:"是否确认删除",icon:null,onOk:async()=>{let t=await u({aiModelId:e.aiModelId});r(t)||(i.success(t.msg),y.current?.reload())}})})(t),children:"删除"},"del")]}];return a.jsxs("div",{children:[a.jsx(l,{columns:T,actionRef:y,cardBordered:!0,params:{},request:async(e={},t,a)=>{let l={pageNum:e.current,pageSize:e.pageSize,pageSort:t},o=await p({...e,...l});return{data:o.data.list,success:1e3===o.code,total:o.data.total}},editable:{type:"multiple"},columnsState:{persistenceKey:"aiModel-pro-table",persistenceType:"localStorage",onChange(e){}},rowKey:"aiModelId",search:{labelWidth:"auto",defaultCollapsed:!1},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{defaultPageSize:10,showSizeChanger:!0},dateFormatter:"string",headerTitle:"列表",toolBarRender:()=>[a.jsx(o,{icon:a.jsx(x,{}),onClick:()=>{g()},type:"primary",children:"新建"},"button")]}),a.jsx(s,{title:"详情",open:h!==t.close,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>m(t.close),footer:null,children:a.jsx("div",{children:a.jsx(n,{detailId:j})})}),a.jsx(s,{title:b==t.edit?"编辑":"新增",open:b!==t.close,width:"50%",destroyOnClose:!0,maskClosable:!1,onClose:()=>f(t.close),footer:null,children:a.jsx("div",{children:a.jsx(c,{detailId:j??0,operateEnum:b,setAddOrUpdateModalFn:f,reloadTable:()=>{y.current?.reload()}})})})]})};export{y as default};
