import{F as e,r as l,d as a,j as r,I as d,B as s,O as t,Y as i,m as c}from"./index-f2321b57.js";import{tableGetOneApi as n,tableUpdateApi as m,tableSaveApi as u}from"./api-caa83fd4.js";const o=o=>{const[x]=e.useForm(),[h,j]=l.useState(a);return l.useEffect((()=>((async()=>{if(o.operateEnum===t.edit){let e=await n({tableId:o.detailId});j(e.data),x.setFieldsValue(e.data)}else x.setFieldsValue(a())})(),()=>{})),[]),r.jsx("div",{children:r.jsxs(e,{form:x,labelCol:{flex:"10%"},wrapperCol:{flex:"90%"},children:[r.jsx(e.Item,{label:"tableId",name:"tableId",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"code",name:"code",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"desc",name:"desc",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"indexList",name:"indexList",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"databaseBoardId",name:"databaseBoardId",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"y",name:"y",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"x",name:"x",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"createTime",name:"createTime",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"createBy",name:"createBy",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"updateTime",name:"updateTime",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"updateBy",name:"updateBy",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsx(e.Item,{label:"deleteFlag",name:"deleteFlag",rules:[{required:!0}],children:r.jsx(d,{placeholder:"请输入"})}),r.jsxs(e.Item,{wrapperCol:{offset:8,span:16},style:{textAlign:"right"},children:[r.jsx(s,{type:"default",onClick:()=>{o.setAddOrUpdateModalFn(t.close)},style:{marginRight:20},children:"取消"}),r.jsx(s,{type:"primary",onClick:async()=>{if(!(await x.validateFields().catch((()=>!1))))return;const e=await(x?.getFieldsValue());let l;i(e),l=o.operateEnum===t.edit?await m({...e,tableId:o.detailId}):await u({...e}),1e3===l.code&&(c.success(l.msg),o.reloadTable(),o.setAddOrUpdateModalFn(t.close))},children:"确定"})]})]})})};export{o as default};
