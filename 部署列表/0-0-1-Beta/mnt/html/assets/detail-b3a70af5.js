import{r as t,j as e,T as s,ab as i}from"./index-10719960.js";import{processInstanceGetOneApi as n}from"./processInstanceApi-0b945bb8.js";import{G as o}from"./ProcessInstanceStatusDic-afa59624.js";import{F as r}from"./uilts-00b5353e.js";import l from"./index-24e8ffcd.js";import a from"./pointList-396b2859.js";import{P as c}from"./index-4b23e8f2.js";import"./dicApi-19a4777b.js";import"./Bo-bcadefc8.js";import"./index-be16395f.js";import"./Timeline-b9d0ea08.js";import"./index-b9ccf131.js";import"./index-30b704bf.js";import"./EditOutlined-34dfcda0.js";const d=d=>{const[p,m]=t.useState(),[j,x]=t.useState([]),{processInstanceStatusMap:u,processInstanceStatusList:I}=o();return t.useEffect((()=>((async()=>{let t=await n({processInstanceId:d.detailId});m(t.data);const e=t.data.pointList.find((t=>t.type===r.startNode));if(!e)return;const s=t.data.pointFormList.find((t=>t.processInstancePointId===e.processInstancePointId));if(!s)return;const i=t.data.pointFieldList.filter((t=>t.processInstancePointFormId===s.processInstancePointFormId));x(i)})(),()=>{})),[]),p?e.jsxs("div",{style:{display:"flex"},children:[e.jsxs("div",{style:{flexGrow:1,minWidth:0},children:[e.jsxs(c,{column:2,title:"",tooltip:"",children:[e.jsx(c.Item,{label:"标题",tooltip:"",valueType:"text",children:p?.title},"title"),e.jsx(c.Item,{label:"状态",tooltip:"",children:(()=>{let t=u[p?.status];return e.jsx(s,{color:t?.color??"green",children:t?.label})})()},"status"),e.jsx(c.Item,{label:"申请人",tooltip:"",valueType:"text",children:p?.createByAccount?.account},"createBy"),e.jsx(c.Item,{label:"申请时间",tooltip:"",valueType:"text",children:p?.createTime},"createTime"),e.jsx(c.Item,{label:"结束时间",tooltip:"",valueType:"text",children:p?.endTime},"endTime")]}),e.jsx(i,{children:"表单"}),e.jsx(l,{initFieldBoList:j}),e.jsx(i,{})]}),e.jsx("div",{style:{width:"300px",flexShrink:0},children:e.jsx(a,{instanceDetail:p})})]}):null};export{d as default};
