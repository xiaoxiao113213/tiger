import{j as e,r as t}from"./index-52537ad8.js";import{R as s,u as o,l as i,m as d,i as n,n as r,C as a,B as m}from"./index-f591dfb2.js";/* empty css              */import{M as l}from"./uilts-69ee15ee.js";import{buildData as p}from"./dataUtil-0719206a.js";import j from"./CustomEdge-74ff2b7a.js";import c from"./StartNode-734aae64.js";import f from"./StageNode-d564e060.js";import u from"./StepNode-1824497d.js";/* empty css             */import"./context-8f51d082.js";const g={startNode:c,stageNode:f,stepNode:u},x={"custom-edge":j},h=s=>{let j=o();const[c,f,u]=i([]),[h,S,y]=d([]),N=async()=>{let e=p(s?.detail?.pipelineBuildStageList??[]);f([...e.nodes]),S([...e.edges]),setTimeout((()=>{j.fitView()}),200)};return t.useEffect((()=>{N()}),[s.detail]),e.jsx(l.Provider,{value:{initData:N},children:e.jsxs(n,{nodes:c,edges:h,connectionLineType:r.SmoothStep,defaultEdgeOptions:{animated:!0,type:"custom-edge"},nodeTypes:g,edgeTypes:x,fitView:!0,minZoom:.01,zoomOnScroll:!1,children:[e.jsx(a,{}),e.jsx(m,{variant:"dots",gap:12,size:1})]})})};function S(t){return e.jsx("div",{style:{width:"100%",height:"50vh"},children:e.jsx(s,{children:e.jsx(h,{detail:t.detail,nodeClickFn:t.nodeClickFn})})})}export{S as default};
