import{r as e,j as r,R as s,Q as o,V as t,W as d}from"./index-f2321b57.js";import{V as a,G as l}from"./index.modern-07338af7.js";import{F as n}from"./index-a4df41a4.js";const i=()=>{const[o,t]=e.useState((()=>{const e=[];for(let r=0;r<10;r++)e.push({id:`Task_${r}`,type:"task",name:`Task ${r}`,start:new Date(2024,8,13+r),end:new Date(2024,8,15+r),progress:Math.floor(100*Math.random()),styles:{backgroundColor:r%2==0?"#d3e0ea":"#c8d5b9",progressColor:"#ffbb54",progressSelectedColor:"#ff9e0d"},isDisabled:!1,project:"Project_1",dependencies:r>0?["Task_"+(r-1)]:[]});e.push({id:"Milestone_1",type:"milestone",name:"Project Milestone",start:new Date(2024,8,20),end:new Date(2024,8,20),progress:0,styles:{backgroundColor:"#ff0000",progressColor:"#ff0000",progressSelectedColor:"#ff0000"},isDisabled:!0,dependencies:["Task_9"]}),e.push({id:"Project_1",type:"project",name:"Main Project",start:new Date(2024,8,13),end:new Date(2024,8,30),progress:45,styles:{backgroundColor:"#2c3e50",backgroundSelectedColor:"#34495e",progressColor:"#27ae60",progressSelectedColor:"#2ecc71"},hideChildren:!1});for(let r=0;r<5;r++)e.push({id:`SubTask_${r}`,type:"task",name:`Sub Task ${r}`,start:new Date(2024,8,16+r),end:new Date(2024,8,18+r),progress:Math.floor(100*Math.random()),styles:{backgroundColor:"#f5b7b1",progressColor:"#e74c3c",progressSelectedColor:"#c0392b"},project:"Project_1",dependencies:r>0?["SubTask_"+(r-1),"Project_1"]:["Project_1"]});e.push({id:"Project_2",type:"project",name:"Second Project",start:new Date(2024,8,25),end:new Date(2024,9,10),progress:30,styles:{backgroundColor:"#8e44ad",backgroundSelectedColor:"#9b59b6",progressColor:"#dcdde1",progressSelectedColor:"#e1bee7"},hideChildren:!0});for(let r=0;r<3;r++)e.push({id:`SecondProject_SubTask_${r}`,type:"task",name:`Second Project Sub Task ${r}`,start:new Date(2024,8,28+r),end:new Date(2024,8,30+r),progress:Math.floor(100*Math.random()),styles:{backgroundColor:"#dff9fb",progressColor:"#00cec9",progressSelectedColor:"#00b894"},project:"Project_2",dependencies:r>0?["SecondProject_SubTask_"+(r-1)]:[]});return e.push({id:"Milestone_2",type:"milestone",name:"Second Project Milestone",start:new Date(2024,9,10),end:new Date(2024,9,10),progress:0,styles:{backgroundColor:"#e67e22",progressColor:"#e67e22",progressSelectedColor:"#d35400"},dependencies:["SecondProject_SubTask_2"]}),e})()),[d,i]=e.useState(a.Day),g=e=>{if(!e.destination)return;const r=Array.from(o),[s]=r.splice(e.source.index,1);r.splice(e.destination.index,0,s),t(r)};return r.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[r.jsx("div",{style:{padding:"10px 0",backgroundColor:"#f5f5f5",flexShrink:0},children:r.jsx(n,{vertical:!0,gap:"middle",children:r.jsxs(s.Group,{onChange:e=>{i(e.target.value)},defaultValue:a.Day,children:[r.jsx(s.Button,{value:a.Hour,children:"小时"}),r.jsx(s.Button,{value:a.QuarterDay,children:"四分之一天"}),r.jsx(s.Button,{value:a.HalfDay,children:"半天"}),r.jsx(s.Button,{value:a.Day,children:"天"}),r.jsx(s.Button,{value:a.Week,children:"周"}),r.jsx(s.Button,{value:a.Month,children:"月"}),r.jsx(s.Button,{value:a.Year,children:"年"})]})})}),r.jsxs("div",{style:{overflowY:"auto",flexGrow:1},children:[" ",r.jsx(l,{tasks:o,viewMode:d,locale:"zh-cn",listCellWidth:"150px",columnWidth:80,headerHeight:50,TaskListHeader:c,TaskListTable:()=>r.jsx(p,{tasks:o,onDragEnd:g}),onDateChange:e=>{const r=o.map((r=>r.id===e.id?{...r,start:e.start,end:e.end}:r));t(r)},TooltipContent:({task:e})=>r.jsxs("div",{style:{padding:"5px",backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"4px"},children:[r.jsx("strong",{children:e.name}),r.jsxs("div",{children:["Start: ",e.start.toLocaleDateString()]}),r.jsxs("div",{children:["End: ",e.end.toLocaleDateString()]}),"milestone"!=e.type&&r.jsxs("div",{children:["Progress: ",e.progress,"%"]})]})})]})]})},c=()=>r.jsx("div",{children:r.jsxs("div",{style:{height:"50px",lineHeight:"50px",display:"flex"},children:[r.jsx("div",{style:{width:100,border:"solid 0.5px",borderColor:"rgba(224,224,224,1)"},children:"Name"}),r.jsx("div",{style:{width:100,border:"solid 0.5px",borderColor:"rgba(224,224,224,1)"},children:"Name"})]})}),p=({tasks:s,onDragEnd:a})=>r.jsx(o,{onDragEnd:a,children:r.jsx(t,{droppableId:"tasks",children:o=>r.jsxs("div",{ref:o.innerRef,...o.droppableProps,children:[s.map(((s,o)=>r.jsx(d,{draggableId:s.id,index:o,children:o=>e.createElement("div",{ref:o.innerRef,...o.draggableProps,...o.dragHandleProps,style:{...o.draggableProps.style,display:"flex",height:"50px",lineHeight:"50px",borderColor:"rgba(224,224,224,1)",backgroundColor:"#fff",...o.draggableProps.style},key:s.id},r.jsx("div",{style:{width:100,border:"solid 0.5px",borderColor:"rgba(224,224,224,1)"},className:"mmm-ellipsis",children:s.name}),r.jsx("div",{style:{width:100,border:"solid 0.5px",borderColor:"rgba(224,224,224,1)"},className:"mmm-ellipsis",children:s.name}))},s.id))),o.placeholder]})})});export{i as default};
