import{r as e,O as t,j as l,T as a,ab as i,B as s,F as o,D as r}from"./index-03adb9ee.js";import{pipeline_pluginGetOneApi as n}from"./api-8691a2b8.js";import{otherAccountAllApi as d}from"./api-e992af87.js";import{C as p}from"./index-173fa263.js";import{serverToClientValue as m}from"./Bo-c1a8a5bb.js";import c from"./index-dc46b847.js";import{C as u}from"./index-3585a1a3.js";import{P as x}from"./index-88ad5331.js";import"./textSubmit-bd6c5b40.js";import"./textAreaSubmit-3b52d66b.js";import"./SelectSubmit-4c180fb2.js";import"./MutSelectSubmit-064a257d.js";import"./FileSubmit-a73b537e.js";import"./PlusOutlined-b4032aa8.js";import"./DateSubmit-95284b79.js";import"./NumberSubmit-77884c9b.js";import"./index-a2b78009.js";import"./EditOutlined-d7a61630.js";const j=j=>{const[h,y]=e.useState({params:[]}),[b,f]=e.useState([]),[v,T]=e.useState(),[S,I]=e.useState(t.close),[g,C]=e.useState([]),B=e=>{T(e)};return e.useEffect((()=>((async()=>{d({}).then((e=>{e.data.forEach((e=>e.id=e.id+"")),f(e.data)}));let e=await n({id:j.detailId});y(e.data),T(e.data.script),e.data.params&&(e.data.params.forEach((e=>{m(e)})),C(e.data.params))})(),()=>{})),[]),l.jsxs("div",{children:[l.jsxs(x,{column:2,title:"",tooltip:"",children:[l.jsx(x.Item,{label:"名称",tooltip:"",valueType:"text",children:h.name},"name"),l.jsx(x.Item,{label:"资源类型",tooltip:"",valueType:"text",children:l.jsx(a,{color:"green",children:j.typeList.find((e=>e.value===h.type))?.label})},"type"),l.jsx(x.Item,{label:"来源",tooltip:"",valueType:"text",children:l.jsx(a,{color:"green",children:j.sourceList.find((e=>e.value===h.source))?.label})},"source"),l.jsx(x.Item,{label:"备注",tooltip:"",valueType:"text",children:h.desc},"desc"),l.jsx(x.Item,{label:"当前版本号",tooltip:"",valueType:"text",children:h.number},"number"),l.jsx(x.Item,{label:"脚本类型",tooltip:"",valueType:"text",children:l.jsx(a,{color:"green",children:j.scriptTypeList.find((e=>e.value===h.scriptType))?.label})},"scriptType"),l.jsx(x.Item,{label:"创建时间",tooltip:"",valueType:"text",children:h.createTime},"createTime"),l.jsx(x.Item,{label:"创建人",tooltip:"",valueType:"text",children:h.createByInfo?.account},"createBy"),l.jsx(x.Item,{label:"更新时间",tooltip:"",valueType:"text",children:h.updateTime},"updateTime"),l.jsx(x.Item,{label:"更新人",tooltip:"",valueType:"text",children:h.updateByInfo?.account},"updateBy")]}),l.jsxs(i,{children:["脚本 ",l.jsx(s,{type:"link",onClick:()=>I(t.detail),children:"全屏"})]}),void 0!==v&&l.jsx(p,{value:v,language:"shell",onChange:B,readOnly:!0}),l.jsx(i,{}),l.jsx(u,{title:l.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:"表单"}),children:l.jsx(o,{validateTrigger:"false",children:g.map((e=>l.jsx(c,{initFieldBo:e},e.id)))})}),l.jsx(r,{title:"脚本",open:S!==t.close,width:"100%",destroyOnClose:!0,maskClosable:!1,onClose:()=>I(t.close),footer:null,children:void 0!==v&&l.jsx(p,{value:v,language:"shell",onChange:B,readOnly:!0})})]})};export{j as default};
