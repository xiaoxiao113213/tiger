import{r as e,O as t,j as l,T as a,ab as i,B as s,F as o,D as r}from"./index-f2321b57.js";import{pipeline_pluginGetOneApi as n}from"./api-cbd9b73e.js";import{otherAccountAllApi as d}from"./api-557990cc.js";import{C as p}from"./index-b1386cd3.js";import{serverToClientValue as m}from"./Bo-900708b2.js";import c from"./index-1e1c35a0.js";import{C as u}from"./index-e51db6e5.js";import{P as j}from"./index-55f4da4c.js";import"./textSubmit-4229c5b2.js";import"./textAreaSubmit-14d30dcb.js";import"./SelectSubmit-d0c3571a.js";import"./MutSelectSubmit-d4556965.js";import"./FileSubmit-975998bf.js";import"./PlusOutlined-0e19b652.js";import"./DateSubmit-41050df2.js";import"./NumberSubmit-9c6b3724.js";import"./index-d54aef2b.js";import"./EditOutlined-1e526840.js";const x=x=>{const[h,y]=e.useState({params:[]}),[b,f]=e.useState([]),[v,T]=e.useState(),[S,I]=e.useState(t.close),[g,C]=e.useState([]),B=e=>{T(e)};return e.useEffect((()=>((async()=>{d({}).then((e=>{e.data.forEach((e=>e.id=e.id+"")),f(e.data)}));let e=await n({id:x.detailId});y(e.data),T(e.data.script),e.data.params&&(e.data.params.forEach((e=>{m(e)})),C(e.data.params))})(),()=>{})),[]),l.jsxs("div",{children:[l.jsxs(j,{column:2,title:"",tooltip:"",children:[l.jsx(j.Item,{label:"名称",tooltip:"",valueType:"text",children:h.name},"name"),l.jsx(j.Item,{label:"资源类型",tooltip:"",valueType:"text",children:l.jsx(a,{color:"green",children:x.typeList.find((e=>e.value===h.type))?.label})},"type"),l.jsx(j.Item,{label:"来源",tooltip:"",valueType:"text",children:l.jsx(a,{color:"green",children:x.sourceList.find((e=>e.value===h.source))?.label})},"source"),l.jsx(j.Item,{label:"备注",tooltip:"",valueType:"text",children:h.desc},"desc"),l.jsx(j.Item,{label:"当前版本号",tooltip:"",valueType:"text",children:h.number},"number"),l.jsx(j.Item,{label:"脚本类型",tooltip:"",valueType:"text",children:l.jsx(a,{color:"green",children:x.scriptTypeList.find((e=>e.value===h.scriptType))?.label})},"scriptType"),l.jsx(j.Item,{label:"创建时间",tooltip:"",valueType:"text",children:h.createTime},"createTime"),l.jsx(j.Item,{label:"创建人",tooltip:"",valueType:"text",children:h.createByInfo?.account},"createBy"),l.jsx(j.Item,{label:"更新时间",tooltip:"",valueType:"text",children:h.updateTime},"updateTime"),l.jsx(j.Item,{label:"更新人",tooltip:"",valueType:"text",children:h.updateByInfo?.account},"updateBy")]}),l.jsxs(i,{children:["脚本 ",l.jsx(s,{type:"link",onClick:()=>I(t.detail),children:"全屏"})]}),void 0!==v&&l.jsx(p,{value:v,language:"shell",onChange:B,readOnly:!0}),l.jsx(i,{}),l.jsx(u,{title:l.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:"表单"}),children:l.jsx(o,{validateTrigger:"false",children:g.map((e=>l.jsx(c,{initFieldBo:e},e.id)))})}),l.jsx(r,{title:"脚本",open:S!==t.close,width:"100%",destroyOnClose:!0,maskClosable:!1,onClose:()=>I(t.close),footer:null,children:void 0!==v&&l.jsx(p,{value:v,language:"shell",onChange:B,readOnly:!0})})]})};export{x as default};
