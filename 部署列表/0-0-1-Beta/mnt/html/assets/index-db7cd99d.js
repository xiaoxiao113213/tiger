import{r as e,i as t,F as r,j as i,B as s,D as o,m}from"./index-1fe6dff8.js";import n from"./formComponent-27c8784f.js";import l from"./index-b78e92bd.js";import{C as a}from"./index-80d88ab0.js";import"./Title-952b03be.js";import"./Input-f98aea5e.js";import"./TextArea-08e23fd4.js";import"./Bo-9e2098a1.js";import"./customerFieldNew-8ebcd271.js";import"./customerText-9afb4922.js";import"./customerTextArea-67b7b62e.js";import"./customerSelect-14199e01.js";import"./MinusCircleOutlined-7f40363e.js";import"./MinusCircleOutlined-47af1d51.js";import"./PlusOutlined-73232e7a.js";import"./customerMutSelect-773b4206.js";import"./CustomerFile-4ea8258f.js";import"./CustomerDate-7ed6f47b.js";import"./customerNumber-a25d7bcc.js";import"./DeleteOutlined-916130f1.js";import"./textSubmit-0f3171ae.js";import"./textAreaSubmit-d1dfc909.js";import"./SelectSubmit-9d579393.js";import"./MutSelectSubmit-5dc3359d.js";import"./FileSubmit-0542b294.js";import"./DateSubmit-c557ba41.js";import"./NumberSubmit-de5567a9.js";const p=()=>{const[p,u]=e.useState(!1),j=t.useRef(null),[c]=r.useForm(),[d,x]=e.useState([]);return i.jsxs(i.Fragment,{children:[i.jsx(s,{type:"primary",onClick:()=>{u(!0)},children:"Open Modal"}),i.jsx(a,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:"表单设计"}),i.jsx(s,{type:"primary",onClick:()=>u(!0),children:"设计表单"})]}),children:i.jsx(r,{form:c,validateTrigger:"false",onValuesChange:(e,t)=>{d.forEach((t=>{e.hasOwnProperty(t.id)&&(t.value=e[t.id])})),x(d)},children:d.map((e=>i.jsx(l,{initFieldBo:e},e.id)))})}),i.jsx(o,{title:"表单设计",open:p,onClose:()=>u(!1),extra:i.jsx(s,{onClick:()=>{const e=j.current?.getFieldList();if(!e)return;e.forEach((t=>{if(""===t.keyName)throw m.error("有字段的唯一标识为空"),new Error("有字段的唯一标识为空");const r=e.filter((e=>e.keyName===t.keyName));if(r.length>1)throw m.error(`有重复的唯一标识【${r[0].keyName}】`),new Error(`有重复的唯一标识【${r[0].keyName}】`)})),x(e);const t={};e.forEach((e=>{t[e.id]=e.value})),c.setFieldsValue(t),u(!1)},type:"primary",children:"确定"}),width:"100%",destroyOnClose:!0,keyboard:!1,children:i.jsx(n,{ref:j,initFormDesign:d})})]})};export{p as default};
