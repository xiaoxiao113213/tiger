import{r as i,O as e,j as t,K as s,D as o,c as r,B as m}from"./index-03adb9ee.js";import p from"./index-d985a2c8.js";import d from"./index-b18aa675.js";import l from"./index-a0ccda54.js";import n from"./BuildModal-b19582d9.js";import{pipelineGetOneApi as a}from"./pipeline-ea2f224f.js";import"./index-ea0f98a5.js";import"./index-7ad95df9.js";import"./index-b36ffb98.js";import"./PipelineBuildStatus-7922b5e5.js";import"./index-88ad5331.js";import"./index-3585a1a3.js";import"./index-a2b78009.js";import"./EditOutlined-d7a61630.js";import"./index-321d8600.js";import"./TextArea-24b2fc1a.js";import"./Input-51214805.js";import"./index-5c9d858f.js";import"./Bo-c1a8a5bb.js";import"./index-62b2de95.js";import"./api-fd3812b8.js";import"./api-e992af87.js";import"./pipelineBuildApi-5c85f8f6.js";import"./buildFlow-b17633dc.js";import"./index-19b1aa5f.js";/* empty css              */import"./uilts-8b8185ea.js";import"./dataUtil-e2413443.js";import"./CustomEdge-6ea755a4.js";import"./StartNode-bc5e087f.js";/* empty css             */import"./StageNode-1de82840.js";import"./context-b6a1069a.js";import"./StepNode-cd9fc784.js";import"./submitNowform-fbdcf9ab.js";import"./textSubmit-bd6c5b40.js";import"./textAreaSubmit-3b52d66b.js";import"./SelectSubmit-4c180fb2.js";import"./MutSelectSubmit-064a257d.js";import"./DateSubmit-95284b79.js";import"./NumberSubmit-77884c9b.js";import"./FileUploadSubmit-e8f92bb2.js";import"./PlusOutlined-b4032aa8.js";const j=()=>{const[j,c]=i.useState(e.close),[x,u]=i.useState(0),[S,b]=i.useState(0),[h,f]=i.useState({}),y=[{key:"1",label:"构建列表",closeIcon:!1,children:t.jsx(p,{pipelineId:S,refresh:x})},{key:"2",label:"归档信息",closeIcon:!1,children:t.jsx(d,{})},{key:"3",label:"操作日志",closeIcon:!1,children:t.jsx(l,{pipelineId:S,refresh:x})}],I=t.jsx("div",{children:t.jsx(m,{type:"primary",onClick:async()=>{c(e.add)},style:{marginRight:10},children:"构建"})});return i.useEffect((()=>((async()=>{const i=new URLSearchParams(window.location.search),e=parseInt(i.get("pipelineId"));b(e);let t=await a({id:e});r(t)||f(t.data)})(),()=>{})),[]),t.jsxs("div",{children:[t.jsx("div",{children:t.jsx(s,{hideAdd:!0,type:"editable-card",defaultActiveKey:"1",items:y,onChange:i=>{},tabBarExtraContent:I})}),t.jsx("div",{children:t.jsx(o,{title:"构建流水线",open:j!==e.close,footer:!1,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>c(e.close),children:t.jsx(n,{setBuildModalFn:c,detailId:S,reloadTable:()=>{c(e.close),u((i=>i+1))}})})})]})};export{j as default};
