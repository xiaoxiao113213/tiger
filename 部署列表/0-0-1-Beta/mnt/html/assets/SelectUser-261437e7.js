import{r as e,j as a,F as t,R as s,I as r,aG as i,T as l,aH as n,aI as d}from"./index-f2321b57.js";import{C as o}from"./index-e51db6e5.js";import{L as c}from"./index-b46dae5a.js";import{S as u}from"./SearchOutlined-8e8ecbf1.js";const p=p=>{const[m,x]=e.useState([]),{selectedUser:j,setSelectedUser:h}=p,[g,y]=e.useState(1),[f,v]=e.useState(1),[k,N]=e.useState(0),[C,b]=e.useState(""),S=async e=>{2===e.type&&delete e.type,d(e).then((e=>{x(e.data.list),v(e.data.pageNum),N(e.data.total)}))};return e.useEffect((()=>{S({type:g,pageNum:1,nickName:C})}),[]),a.jsxs("div",{style:{backgroundColor:"white"},children:[a.jsx(t.Item,{label:"用户类型",children:a.jsxs(s.Group,{onChange:e=>{S({type:e.target.value,pageNum:1,nickName:C}),y(e.target.value)},value:g,children:[a.jsx(s,{value:1,children:"后台"}),a.jsx(s,{value:0,children:"前台"}),a.jsx(s,{value:2,children:"全部"})]})}),a.jsx(o,{children:a.jsxs("div",{style:{flex:1,borderRight:"1px solid white",borderRadius:"10px",padding:"3px"},children:[a.jsx(r,{suffix:a.jsx(u,{onClick:()=>{S({type:g,pageNum:1,nickName:C})}}),style:{marginTop:"10px"},onChange:e=>{b(e.target.value)},onPressEnter:e=>{S({type:g,pageNum:1,nickName:C})},allowClear:!0}),a.jsx(c,{itemLayout:"horizontal",dataSource:m,renderItem:(e,t)=>a.jsx(c.Item,{onClick:()=>{h(e)},style:{cursor:"pointer",backgroundColor:j?.id===e.id?"#f0f0f0":"white"},children:a.jsx(c.Item.Meta,{avatar:a.jsx("div",{style:{marginLeft:"5px"},children:a.jsx(i,{style:{backgroundColor:"#2b87db",verticalAlign:"middle"},size:"large",src:e.avatar,children:e.nickName})}),title:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{children:e.nickName}),0===e.type&&a.jsx(l,{color:"blue",children:"前"}),1===e.type&&a.jsx(l,{color:"blue",children:"后"})]}),description:a.jsx("div",{className:"mmm-ellipsis",children:e.remarks})})})}),a.jsx(n,{defaultCurrent:f,pageSize:8,total:k,onChange:e=>{S({type:g,pageNum:e,nickName:C})}})]})})]})};export{p as default};
