import{F as e,r as s,j as a,I as r,B as l,O as t,Y as d,m as o,aF as i}from"./index-52537ad8.js";const n=n=>{const[c]=e.useForm(),[p,u]=s.useState("");return a.jsx("div",{children:a.jsxs(e,{form:c,labelCol:{flex:"15%"},wrapperCol:{flex:"85%"},children:[a.jsx(e.Item,{label:"旧密码",name:"passwordOld",rules:[{required:!0}],children:a.jsx(r.Password,{placeholder:"请输入"})}),a.jsx(e.Item,{label:"新密码",name:"passwordNew",rules:[{required:!0}],tooltip:"至少一个大写字母、一个小写字母、一个数字和一个特殊字符",children:a.jsx(r.Password,{placeholder:"请输入",onChange:e=>{u(e.target.value)}})}),a.jsx(e.Item,{label:"确认新密码",name:"passwordNew1",rules:[{required:!0}],children:a.jsx(r.Password,{placeholder:"请输入确认新密码"})}),a.jsxs(e.Item,{wrapperCol:{offset:8,span:16},style:{textAlign:"right"},children:[a.jsx(l,{type:"default",onClick:()=>{n.setAddOrUpdateModalFn(t.close)},style:{marginRight:20},children:"取消"}),a.jsx(l,{type:"primary",onClick:async()=>{if(n.operateEnum===t.detail)return;if(!(await c.validateFields().catch((()=>!1))))return;const e=await(c?.getFieldsValue());if(d(e),e.passwordNew!==e.passwordNew1)return void o.error("两次密码输入不一致");let s=await i({...e});1e3===s?.code&&(o.success(s?.msg),n.setAddOrUpdateModalFn(t.close))},children:"确定"})]})]})})};export{n as default};
