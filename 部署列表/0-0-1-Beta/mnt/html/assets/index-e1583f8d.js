import{r as e,O as t,j as a,P as s,B as l,D as d,M as o,c as i,m as r}from"./index-10719960.js";import c from"./detail-96c5b060.js";import n from"./addOrUpdate-ec779297.js";import{messagePageApi as p,messageDeleteApi as u}from"./api-c60f4a74.js";import{P as y}from"./PlusOutlined-cc4f568a.js";import"./index-4b23e8f2.js";import"./index-30b704bf.js";import"./index-be16395f.js";import"./EditOutlined-34dfcda0.js";const m=()=>{const m=e.useRef(),[x,h]=e.useState(t.close),[I,g]=e.useState(),[j,b]=e.useState(t.close),T=e=>{g(e?.messageId),b(e?t.edit:t.add)};e.useEffect((()=>{}),[]);const f=[{title:"messageId",dataIndex:"messageId",valueType:"text",copyable:!1,search:!1},{title:"type",dataIndex:"type",valueType:"text",copyable:!1,search:!1},{title:"status",dataIndex:"status",valueType:"text",copyable:!1,search:!1},{title:"title",dataIndex:"title",valueType:"text",copyable:!1,search:!1},{title:"msg",dataIndex:"msg",valueType:"text",copyable:!1,search:!1},{title:"createBy",dataIndex:"createBy",valueType:"text",copyable:!1,search:!1},{title:"remarks",dataIndex:"remarks",valueType:"text",copyable:!1,search:!1},{title:"bizId",dataIndex:"bizId",valueType:"text",copyable:!1,search:!1},{title:"toAccountId",dataIndex:"toAccountId",valueType:"text",copyable:!1,search:!1},{title:"createTime",dataIndex:"createTime",valueType:"text",copyable:!1,search:!1},{title:"updateBy",dataIndex:"updateBy",valueType:"text",copyable:!1,search:!1},{title:"updateTime",dataIndex:"updateTime",valueType:"text",copyable:!1,search:!1},{title:"deleteFlag",dataIndex:"deleteFlag",valueType:"text",copyable:!1,search:!1},{title:"操作",valueType:"option",key:"option",width:120,render:(e,s,l,d)=>[a.jsx("a",{onClick:()=>(e=>{g(e.messageId),h(t.detail)})(s),children:"详情"},"detail"),a.jsx("a",{onClick:()=>T(s),children:"编辑"},"edit"),a.jsx("a",{onClick:()=>(async e=>{o?.confirm({title:"是否确认删除",icon:null,onOk:async()=>{let t=await u({messageId:e.messageId});i(t)||(r.success(t.msg),m.current?.reload())}})})(s),children:"删除"},"del")]}];return a.jsxs("div",{children:[a.jsx(s,{columns:f,actionRef:m,cardBordered:!0,params:{},request:async(e={},t,a)=>{let s={pageNum:e.current,pageSize:e.pageSize,pageSort:t},l=await p({...e,...s});return{data:l.data.list,success:1e3===l.code,total:l.data.total}},editable:{type:"multiple"},columnsState:{persistenceKey:"message-pro-table",persistenceType:"localStorage",onChange(e){}},rowKey:"messageId",search:{labelWidth:"auto",defaultCollapsed:!1},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{defaultPageSize:10,showSizeChanger:!0},dateFormatter:"string",headerTitle:"配置列表",toolBarRender:()=>[a.jsx(l,{icon:a.jsx(y,{}),onClick:()=>{T()},type:"primary",children:"新建"},"button")]}),a.jsx(d,{title:"配置详情",open:x!==t.close,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>h(t.close),footer:null,children:a.jsx("div",{children:a.jsx(c,{detailId:I})})}),a.jsx(d,{title:j==t.edit?"配置编辑":"配置新增",open:j!==t.close,width:"50%",destroyOnClose:!0,maskClosable:!1,onClose:()=>b(t.close),footer:null,children:a.jsx("div",{children:a.jsx(n,{detailId:I??0,operateEnum:j,setAddOrUpdateModalFn:b,reloadTable:()=>{m.current?.reload()}})})})]})};export{m as default};
