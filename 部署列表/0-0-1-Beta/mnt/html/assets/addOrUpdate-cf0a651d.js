import{F as e,r as a,d as l,j as s,I as r,b as t,R as d,B as i,O as n,Y as o,m as c}from"./index-f2321b57.js";import{applicationGetOneApi as m,applicationUpdateApi as u,applicationSaveApi as x}from"./api-60bbf5e2.js";const p=p=>{const[j]=e.useForm(),[h,f]=a.useState(l);return a.useEffect((()=>((async()=>{if(p.operateEnum===n.edit){let e=await m({id:p.detailId});f(e.data),j.setFieldsValue(e.data)}else j.setFieldsValue({sort:0,disabled:0})})(),()=>{})),[]),s.jsx("div",{children:s.jsxs(e,{form:j,labelCol:{flex:"10%"},wrapperCol:{flex:"90%"},children:[s.jsx(e.Item,{label:"名称",name:"name",rules:[{required:!0}],children:s.jsx(r,{placeholder:"请输入"})}),s.jsx(e.Item,{label:"编码",name:"code",rules:[{required:!0}],children:s.jsx(r,{placeholder:"请输入"})}),s.jsx(e.Item,{label:"排序",name:"sort",rules:[{required:!0}],children:s.jsx(t,{})}),s.jsx(e.Item,{label:"状态",name:"disabled",rules:[{required:!0}],children:s.jsxs(d.Group,{children:[s.jsx(d,{value:0,children:" 启用 "}),s.jsx(d,{value:1,children:" 禁用 "})]})}),s.jsx(e.Item,{label:"备注",name:"remarks",children:s.jsx(r.TextArea,{allowClear:!0})}),s.jsxs(e.Item,{wrapperCol:{offset:8,span:16},style:{textAlign:"right"},children:[s.jsx(i,{type:"default",onClick:()=>{p.setAddOrUpdateModalFn(n.close)},style:{marginRight:20},children:"取消"}),s.jsx(i,{type:"primary",onClick:async()=>{if(p.operateEnum===n.detail)return;if(!(await j.validateFields().catch((()=>!1))))return;const e=await(j?.getFieldsValue());o(e);let a=l();p.operateEnum===n.edit?a=await u({...e,id:p.detailId}):p.operateEnum===n.add&&(a=await x({...e})),1e3===a?.code&&(c.success(a?.msg),p.reloadTable(),p.setAddOrUpdateModalFn(n.close))},children:"确定"})]})]})})};export{p as default};
