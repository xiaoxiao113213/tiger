import{r as e,b8 as t,b9 as n,bg as a,ba as s,at as r,bk as l,a$ as o,bX as i,br as c,u,l as m,L as p,j as d,F as f,I as g,o as x,p as b,B as y}from"./index-f2321b57.js";import{ReturnButton as h}from"./ReturnButton-e2353504.js";const j=t=>{const{value:n,formatter:a,precision:s,decimalSeparator:r,groupSeparator:l="",prefixCls:o}=t;let i;if("function"==typeof a)i=a(n);else{const t=String(n),a=t.match(/^(-?)(\d*)(\.(\d+))?$/);if(a&&"-"!==t){const t=a[1];let n=a[2]||"0",c=a[4]||"";n=n.replace(/\B(?=(\d{3})+(?!\d))/g,l),"number"==typeof s&&(c=c.padEnd(s,"0").slice(0,s>0?s:0)),c&&(c=`${r}${c}`),i=[e.createElement("span",{key:"int",className:`${o}-content-value-int`},t,n),c&&e.createElement("span",{key:"decimal",className:`${o}-content-value-decimal`},c)]}else i=t}return e.createElement("span",{className:`${o}-content-value`},i)},v=e=>{const{componentCls:t,marginXXS:n,padding:s,colorTextDescription:r,titleFontSize:l,colorTextHeading:o,contentFontSize:i,fontFamily:c}=e;return{[t]:Object.assign(Object.assign({},a(e)),{[`${t}-title`]:{marginBottom:n,color:r,fontSize:l},[`${t}-skeleton`]:{paddingTop:s},[`${t}-content`]:{color:o,fontSize:i,fontFamily:c,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}},S=t("Statistic",(e=>{const t=n(e,{});return[v(t)]}),(e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}}));var O=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};const N=t=>{const{prefixCls:n,className:a,rootClassName:i,style:c,valueStyle:u,value:m=0,title:p,valueRender:d,prefix:f,suffix:g,loading:x=!1,formatter:b,precision:y,decimalSeparator:h=".",groupSeparator:v=",",onMouseEnter:N,onMouseLeave:$}=t,E=O(t,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:w,direction:C,statistic:F}=e.useContext(s),I=w("statistic",n),[T,M,k]=S(I),P=e.createElement(j,{decimalSeparator:h,groupSeparator:v,prefixCls:I,formatter:b,precision:y,value:m}),z=r(I,{[`${I}-rtl`]:"rtl"===C},null==F?void 0:F.className,a,i,M,k),D=l(E,{aria:!0,data:!0});return T(e.createElement("div",Object.assign({},D,{className:z,style:Object.assign(Object.assign({},null==F?void 0:F.style),c),onMouseEnter:N,onMouseLeave:$}),p&&e.createElement("div",{className:`${I}-title`},p),e.createElement(o,{paragraph:!1,loading:x,className:`${I}-skeleton`},e.createElement("div",{style:u,className:`${I}-content`},f&&e.createElement("span",{className:`${I}-content-prefix`},f),d?d(P):P,g&&e.createElement("span",{className:`${I}-content-suffix`},g)))))},$=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function E(e,t){const{format:n=""}=t,a=new Date(e).getTime(),s=Date.now();return function(e,t){let n=e;const a=/\[[^\]]*]/g,s=(t.match(a)||[]).map((e=>e.slice(1,-1))),r=t.replace(a,"[]"),l=$.reduce(((e,t)=>{let[a,s]=t;if(e.includes(a)){const t=Math.floor(n/s);return n-=t*s,e.replace(new RegExp(`${a}+`,"g"),(e=>{const n=e.length;return t.toString().padStart(n,"0")}))}return e}),r);let o=0;return l.replace(a,(()=>{const e=s[o];return o+=1,e}))}(Math.max(a-s,0),n)}var w=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};const C=1e3/30;const F=t=>{const{value:n,format:a="HH:mm:ss",onChange:s,onFinish:r}=t,l=w(t,["value","format","onChange","onFinish"]),o=i(),u=e.useRef(null),m=()=>{const e=function(e){return new Date(e).getTime()}(n);e>=Date.now()&&(u.current=setInterval((()=>{o(),null==s||s(e-Date.now()),e<Date.now()&&(null==r||r(),u.current&&(clearInterval(u.current),u.current=null))}),C))};e.useEffect((()=>(m(),()=>{u.current&&(clearInterval(u.current),u.current=null)})),[n]);return e.createElement(N,Object.assign({},l,{value:n,valueRender:e=>c(e,{title:void 0}),formatter:(e,t)=>E(e,Object.assign(Object.assign({},t),{format:a}))}))},I=e.memo(F);N.Countdown=I;const{Countdown:T}=N;function M(){const{t:t}=u(),[n,a]=e.useState(0),[s,r]=e.useState(0),{loginState:l,backToLogin:o}=m();if(l!==p.MOBILE)return null;const i=()=>{a(0),r(60)};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-4 text-2xl font-bold xl:text-3xl",children:t("sys.login.mobileSignInFormTitle")}),d.jsxs(f,{name:"normal_login",size:"large",initialValues:{remember:!0},onFinish:e=>{},children:[d.jsx(f.Item,{name:"phone",rules:[{required:!0,message:"Please input your Phone!"}],children:d.jsx(g,{placeholder:t("sys.login.mobile")})}),d.jsx(f.Item,{name:"code",rules:[{required:!0,message:t("sys.login.mobilePlaceholder")}],children:d.jsxs(x,{justify:"space-between",children:[d.jsx(b,{span:14,children:d.jsx(g,{placeholder:t("sys.login.smsCode")})}),d.jsx(b,{span:9,flex:1,children:d.jsx(y,{disabled:0!==n,className:"w-full !text-sm",onClick:()=>{a(60),r(60)},children:0===n?d.jsx("span",{children:t("sys.login.sendSmsButton")}):d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(T,{className:"hidden",value:Date.now()+1e3*n,onChange:e=>{a(Number(e)/1e3),r(Math.floor(Number(e)/1e3))},format:"ss",onFinish:i}),d.jsx("span",{className:"ml-1",children:t("sys.login.sendSmsText",{second:s})})]})})})]})}),d.jsx(f.Item,{children:d.jsx(y,{type:"primary",htmlType:"submit",className:"w-full",children:t("sys.login.loginButton")})}),d.jsx(h,{onClick:()=>{i(),o()}})]})]})}export{M as default};
