import{F as e,r as l,d as a,j as s,S as r,I as t,b as d,B as i,O as n,m as o}from"./index-f2321b57.js";import{aiModelGetOneApi as u,aiModelUpdateApi as m,aiModelSaveApi as c}from"./api-a63184d2.js";const x=x=>{const[h]=e.useForm(),[p,j]=l.useState(a);return l.useEffect((()=>((async()=>{if(x.operateEnum===n.edit){let e=await u({aiModelId:x.detailId});j(e.data),h.setFieldsValue(e.data)}else h.setFieldsValue({sort:0})})(),()=>{})),[]),s.jsx("div",{children:s.jsxs(e,{form:h,labelCol:{flex:"10%"},wrapperCol:{flex:"90%"},children:[s.jsx(e.Item,{label:"所属平台",name:"belong",rules:[{required:!0}],children:s.jsx(r,{options:[{label:"通义千问",value:"通义千问"},{label:"deepseek",value:"deepseek"}]})}),s.jsx(e.Item,{label:"模型类型",name:"type",rules:[{required:!0}],children:s.jsx(r,{options:[{label:"文本生成",value:"文本生成"},{label:"视频理解",value:"视频理解"},{label:"视频生成",value:"视频生成"},{label:"图片处理",value:"图片处理"},{label:"图片理解",value:"图片理解"},{label:"图片生成",value:"图片生成"},{label:"向量模型",value:"向量模型"},{label:"语音合成",value:"语音合成"},{label:"语音识别",value:"语音识别"}],mode:"multiple",maxLength:1,maxCount:1})}),s.jsx(e.Item,{label:"名称",name:"name",rules:[{required:!0}],children:s.jsx(t,{placeholder:"请输入",maxLength:200,showCount:!0})}),s.jsx(e.Item,{label:"模型编码",name:"code",rules:[{required:!0}],children:s.jsx(t,{placeholder:"请输入",maxLength:200,showCount:!0})}),s.jsx(e.Item,{label:"上下文长度",name:"contextLength",rules:[{required:!0}],children:s.jsx(d,{placeholder:"请输入"})}),s.jsx(e.Item,{label:"最大输入量",name:"maxInput",rules:[{required:!0}],children:s.jsx(d,{placeholder:"请输入"})}),s.jsx(e.Item,{label:"最大输出量",name:"maxOutput",rules:[{required:!0}],children:s.jsx(d,{placeholder:"请输入"})}),s.jsx(e.Item,{label:"排序",name:"sort",rules:[{required:!1}],children:s.jsx(d,{placeholder:"请输入"})}),s.jsx(e.Item,{label:"说明",name:"remarks",rules:[{required:!1}],children:s.jsx(t.TextArea,{placeholder:"请输入",maxLength:2e3,showCount:!0})}),s.jsxs(e.Item,{wrapperCol:{offset:8,span:16},style:{textAlign:"right"},children:[s.jsx(i,{type:"default",onClick:()=>{x.setAddOrUpdateModalFn(n.close)},style:{marginRight:20},children:"取消"}),s.jsx(i,{type:"primary",onClick:async()=>{if(!(await h.validateFields().catch((()=>!1))))return;const e=await(h?.getFieldsValue());let l;l=x.operateEnum===n.edit?await m({...e,aiModelId:x.detailId}):await c({...e}),1e3===l.code&&(o.success(l.msg),x.reloadTable(),x.setAddOrUpdateModalFn(n.close))},children:"确定"})]})]})})};export{x as default};
