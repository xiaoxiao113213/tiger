import{F as e,r as a,d as s,j as t,I as l,B as d,O as r,Y as i,m as o}from"./index-03adb9ee.js";import{databaseBoardGetOneApi as n,databaseBoardUpdateApi as c,databaseBoardSaveApi as m}from"./api-58214640.js";const p=p=>{const[u]=e.useForm(),[x,f]=a.useState(s);return a.useEffect((()=>((async()=>{if(p.operateEnum===r.edit){let e=await n({databaseBoardId:p.detailId});f(e.data),u.setFieldsValue(e.data)}else u.setFieldsValue(s())})(),()=>{})),[]),t.jsx("div",{children:t.jsxs(e,{form:u,labelCol:{flex:"10%"},wrapperCol:{flex:"90%"},children:[t.jsx(e.Item,{label:"名称",name:"name",rules:[{required:!0}],children:t.jsx(l,{placeholder:"请输入"})}),t.jsx(e.Item,{label:"备注",name:"remarks",rules:[{required:!1}],children:t.jsx(l,{placeholder:"请输入"})}),t.jsxs(e.Item,{wrapperCol:{offset:8,span:16},style:{textAlign:"right"},children:[t.jsx(d,{type:"default",onClick:()=>{p.setAddOrUpdateModalFn(r.close)},style:{marginRight:20},children:"取消"}),t.jsx(d,{type:"primary",onClick:async()=>{if(!(await u.validateFields().catch((()=>!1))))return;const e=await(u?.getFieldsValue());let a;i(e),a=p.operateEnum===r.edit?await c({...e,databaseBoardId:p.detailId}):await m({...e}),1e3===a.code&&(o.success(a.msg),p.reloadTable(),p.setAddOrUpdateModalFn(r.close))},children:"确定"})]})]})})};export{p as default};
