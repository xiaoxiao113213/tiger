import{r as e,j as l,F as a,q as d,I as t,S as i,b as n}from"./index-52537ad8.js";import{D as s}from"./DeleteOutlined-104cbf00.js";const m=m=>{const{mysqlType:r,form:c}=m,[u,o]=e.useState({...m.field}),[I,x]=e.useState(),F=()=>{x(1)},g=e=>{"int"===e||"bigint"===e?(c.setFieldValue(`length-${u.tableFieldId}`,void 0),c.setFieldValue(`decimal-${u.tableFieldId}`,void 0)):"decimal"===e?(c.setFieldValue(`length-${u.tableFieldId}`,10),c.setFieldValue(`decimal-${u.tableFieldId}`,2)):"varchar"===e||"char"===e?(c.setFieldValue(`length-${u.tableFieldId}`,255),c.setFieldValue(`decimal-${u.tableFieldId}`,void 0)):("text"===e||"longtext"===e||"mediumtext"===e||"timestamp"===e||"datetime"===e||"date"===e||"time"===e||"year"===e||"json"===e)&&(c.setFieldValue(`length-${u.tableFieldId}`,void 0),c.setFieldValue(`decimal-${u.tableFieldId}`,void 0))},h=e=>{e.target.checked?(c.setFieldValue(`flagNotNull-${u.tableFieldId}`,!0),c.setFieldValue(`flagAutoIncrement-${u.tableFieldId}`,!0),c.setFieldValue(`flagUnsigned-${u.tableFieldId}`,!0)):(c.setFieldValue(`flagAutoIncrement-${u.tableFieldId}`,!1),c.setFieldValue(`flagUnsigned-${u.tableFieldId}`,!1))};return e.useMemo((()=>1===I?l.jsx("div",{}):l.jsxs(l.Fragment,{children:[l.jsx("td",{children:l.jsx(a.Item,{name:`selected-${u.tableFieldId}`,style:{margin:0},valuePropName:"checked",initialValue:u.selected??0,children:l.jsx(d,{},`selected-${u.tableFieldId}`)})}),l.jsx("td",{style:{maxWidth:"150px"},children:l.jsx(a.Item,{name:`code-${u.tableFieldId}`,style:{margin:0},initialValue:u.code,rules:[{required:!0,message:"请输入字段名!"}],children:l.jsx(t,{},`code-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`type-${u.tableFieldId}`,style:{margin:0},initialValue:u.type,rules:[{required:!0,message:"请输入类型!"}],children:l.jsx(i,{options:r,showSearch:!0,optionFilterProp:"label",onChange:g},`type-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`length-${u.tableFieldId}`,style:{margin:0,width:"50px"},initialValue:u.length,children:l.jsx(n,{},`length-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`decimal-${u.tableFieldId}`,style:{margin:0,width:"50px"},initialValue:u.decimal,children:l.jsx(n,{},`decimal-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`flagNotNull-${u.tableFieldId}`,style:{margin:0},valuePropName:"checked",initialValue:u.flagNotNull,normalize:e=>e?1:0,children:l.jsx(d,{},`flagNotNull-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`flagKey-${u.tableFieldId}`,style:{margin:0},valuePropName:"checked",initialValue:u.flagKey,normalize:e=>e?1:0,children:l.jsx(d,{onChange:h},`flagKey-${u.tableFieldId}`)})}),l.jsx("td",{style:{maxWidth:"200px"},children:l.jsx(a.Item,{name:`defaultValue-${u.tableFieldId}`,style:{margin:0},initialValue:u.defaultValue,children:l.jsx(i,{options:[{value:"emptyString",label:"empty string"},{value:"CURRENT_TIMESTAMP",label:"now"},{value:"CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",label:"now and update now"}],mode:"tags",maxCount:1},`defaultValue-${u.tableFieldId}`)})}),l.jsx("td",{style:{maxWidth:"200px"},children:l.jsx(a.Item,{name:`desc-${u.tableFieldId}`,style:{margin:0},initialValue:u.desc,children:l.jsx(t.TextArea,{autoSize:{minRows:1,maxRows:1}},`desc-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`flagAutoIncrement-${u.tableFieldId}`,style:{margin:0},valuePropName:"checked",initialValue:u.flagAutoIncrement,normalize:e=>e?1:0,children:l.jsx(d,{},`flagAutoIncrement-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(a.Item,{name:`flagUnsigned-${u.tableFieldId}`,style:{margin:0},valuePropName:"checked",initialValue:u.flagUnsigned,normalize:e=>e?1:0,children:l.jsx(d,{},`flagUnsigned-${u.tableFieldId}`)})}),l.jsx("td",{children:l.jsx(s,{onClick:F})}),l.jsx("td",{style:{display:"none"},children:l.jsx(a.Item,{name:`deleteFlag-${u.tableFieldId}`,style:{margin:0},valuePropName:"checked",initialValue:I,normalize:e=>e?1:0,children:l.jsx(d,{},`deleteFlag-${u.tableFieldId}`)})})]})),[u,r,I])};export{m as default};
