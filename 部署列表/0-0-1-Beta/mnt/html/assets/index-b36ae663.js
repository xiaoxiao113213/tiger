import{r as e,O as t,j as a,P as l,B as d,D as s,M as o,c as i,m as r}from"./index-1fe6dff8.js";import c from"./detail-44fb0b87.js";import n from"./addOrUpdate-5b56da05.js";import{tablePageApi as p,tableDeleteApi as u}from"./api-a8f9de29.js";import{P as x}from"./PlusOutlined-73232e7a.js";import"./index-262ec5ed.js";import"./index-80d88ab0.js";import"./index-adfb8488.js";import"./EditOutlined-fbc989f8.js";const y=()=>{const y=e.useRef(),[h,m]=e.useState(t.close),[b,j]=e.useState(),[I,T]=e.useState(t.close),f=e=>{j(e?.tableId),T(e?t.edit:t.add)};e.useEffect((()=>{}),[]);const v=[{title:"tableId",dataIndex:"tableId",valueType:"text",copyable:!1,search:!1},{title:"code",dataIndex:"code",valueType:"text",copyable:!1,search:!1},{title:"desc",dataIndex:"desc",valueType:"text",copyable:!1,search:!1},{title:"indexList",dataIndex:"indexList",valueType:"text",copyable:!1,search:!1},{title:"databaseBoardId",dataIndex:"databaseBoardId",valueType:"text",copyable:!1,search:!1},{title:"y",dataIndex:"y",valueType:"text",copyable:!1,search:!1},{title:"x",dataIndex:"x",valueType:"text",copyable:!1,search:!1},{title:"createTime",dataIndex:"createTime",valueType:"text",copyable:!1,search:!1},{title:"createBy",dataIndex:"createBy",valueType:"text",copyable:!1,search:!1},{title:"updateTime",dataIndex:"updateTime",valueType:"text",copyable:!1,search:!1},{title:"updateBy",dataIndex:"updateBy",valueType:"text",copyable:!1,search:!1},{title:"deleteFlag",dataIndex:"deleteFlag",valueType:"text",copyable:!1,search:!1},{title:"操作",valueType:"option",key:"option",width:120,render:(e,l,d,s)=>[a.jsx("a",{onClick:()=>(e=>{j(e.tableId),m(t.detail)})(l),children:"详情"},"detail"),a.jsx("a",{onClick:()=>f(l),children:"编辑"},"edit"),a.jsx("a",{onClick:()=>(async e=>{o?.confirm({title:"是否确认删除",icon:null,onOk:async()=>{let t=await u({tableId:e.tableId});i(t)||(r.success(t.msg),y.current?.reload())}})})(l),children:"删除"},"del")]}];return a.jsxs("div",{children:[a.jsx(l,{columns:v,actionRef:y,cardBordered:!0,params:{},request:async(e={},t,a)=>{let l={pageNum:e.current,pageSize:e.pageSize,pageSort:t},d=await p({...e,...l});return{data:d.data.list,success:1e3===d.code,total:d.data.total}},editable:{type:"multiple"},columnsState:{persistenceKey:"table-pro-table",persistenceType:"localStorage",onChange(e){}},rowKey:"tableId",search:{labelWidth:"auto",defaultCollapsed:!1},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{defaultPageSize:10,showSizeChanger:!0},dateFormatter:"string",headerTitle:"配置列表",toolBarRender:()=>[a.jsx(d,{icon:a.jsx(x,{}),onClick:()=>{f()},type:"primary",children:"新建"},"button")]}),a.jsx(s,{title:"配置详情",open:h!==t.close,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>m(t.close),footer:null,children:a.jsx("div",{children:a.jsx(c,{detailId:b})})}),a.jsx(s,{title:I==t.edit?"配置编辑":"配置新增",open:I!==t.close,width:"50%",destroyOnClose:!0,maskClosable:!1,onClose:()=>T(t.close),footer:null,children:a.jsx("div",{children:a.jsx(n,{detailId:b??0,operateEnum:I,setAddOrUpdateModalFn:T,reloadTable:()=>{y.current?.reload()}})})})]})};export{y as default};
