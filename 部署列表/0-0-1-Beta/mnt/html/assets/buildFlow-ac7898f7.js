import{j as e,r as t}from"./index-10719960.js";import{R as s,u as o,l as i,m as d,i as n,n as r,C as a,B as m}from"./index-937e9b10.js";/* empty css              */import{M as l}from"./uilts-00b5353e.js";import{buildData as p}from"./dataUtil-ca5e79c2.js";import j from"./CustomEdge-98f3759d.js";import c from"./StartNode-5fcdb7d3.js";import f from"./StageNode-c82f7ab2.js";import u from"./StepNode-5285dab5.js";/* empty css             */import"./context-32bea82b.js";const g={startNode:c,stageNode:f,stepNode:u},x={"custom-edge":j},h=s=>{let j=o();const[c,f,u]=i([]),[h,S,y]=d([]),N=async()=>{let e=p(s?.detail?.pipelineBuildStageList??[]);f([...e.nodes]),S([...e.edges]),setTimeout((()=>{j.fitView()}),200)};return t.useEffect((()=>{N()}),[s.detail]),e.jsx(l.Provider,{value:{initData:N},children:e.jsxs(n,{nodes:c,edges:h,connectionLineType:r.SmoothStep,defaultEdgeOptions:{animated:!0,type:"custom-edge"},nodeTypes:g,edgeTypes:x,fitView:!0,minZoom:.01,zoomOnScroll:!1,children:[e.jsx(a,{}),e.jsx(m,{variant:"dots",gap:12,size:1})]})})};function S(t){return e.jsx("div",{style:{width:"100%",height:"50vh"},children:e.jsx(s,{children:e.jsx(h,{detail:t.detail,nodeClickFn:t.nodeClickFn})})})}export{S as default};
