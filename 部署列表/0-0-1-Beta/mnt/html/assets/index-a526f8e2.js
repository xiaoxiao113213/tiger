import{r as e,O as t,j as i,P as a,B as o,D as s,T as l,M as r,c as n,m as d}from"./index-10719960.js";import p from"./detail-6ea1c7c8.js";import c from"./addOrUpdate-9726993c.js";import{aiPipelinePageApi as m,aiPipelineDeleteApi as j}from"./api-8df9ebdb.js";import u from"./bord-b2467525.js";import{P as x}from"./PlusOutlined-cc4f568a.js";import"./index-be16395f.js";import"./index-937e9b10.js";import"./ApiBo-d6e5478a.js";import"./pointApi-3fe4b0be.js";/* empty css              */import"./StartNode-ba7e47d4.js";import"./Title-5ea514a5.js";import"./Input-f4f01092.js";import"./TextArea-8948f20d.js";import"./varApi-6204ca1d.js";import"./DeleteOutlined-91444ec2.js";import"./EndNode-6c2da639.js";import"./endOutputForm-8e7c6952.js";import"./edgeApi-1f420f75.js";import"./AiTextNode-53bf931f.js";import"./dicApi-19a4777b.js";import"./inputForm-58652c0c.js";import"./outputForm-5795bc86.js";import"./TextAi1Test-c7609f87.js";import"./index-5517f7e9.js";import"./FileUploadCom-c3fb6dc0.js";import"./utils-452b7114.js";import"./RightSquareTwoTone-e5897024.js";import"./Timeline-b9d0ea08.js";import"./AiTextToPicNode-a700c6c5.js";import"./inputForm-93f793b2.js";import"./outputForm-ebc9250c.js";import"./ChatModelDic-f057a5ec.js";import"./api-fc0fe320.js";const y=()=>{const y=e.useRef(),[h,T]=e.useState(t.close),[C,I]=e.useState(),[f,g]=e.useState(t.close),[b,v]=e.useState(t.close),k=e=>{I(e?.aiPipelineId),g(e?t.edit:t.add)};e.useEffect((()=>{}),[]);const P=[{title:"ID",dataIndex:"aiPipelineId",valueType:"text",copyable:!1,search:!1},{title:"标题",dataIndex:"name",valueType:"text",copyable:!1,search:!1},{title:"描述",dataIndex:"remarks",valueType:"text",copyable:!1,search:!1,ellipsis:!0},{title:"创建人",dataIndex:"createBy",valueType:"text",copyable:!1,search:!1,render:(e,{createByAccount:t})=>t?.nickName},{title:"创建时间",dataIndex:"createTime",valueType:"text",copyable:!1,search:!1},{title:"更新人",dataIndex:"updateBy",valueType:"text",copyable:!1,search:!1,render:(e,{updateByAccount:t})=>t?.nickName},{title:"更新时间",dataIndex:"updateTime",valueType:"text",copyable:!1,search:!1},{title:"操作",valueType:"option",key:"option",render:(e,a,o,s)=>[i.jsx("a",{onClick:()=>{I(a.aiPipelineId),v(t.add)},children:"编排"},"pipeline"),i.jsx("a",{onClick:()=>(e=>{I(e.aiPipelineId),T(t.detail)})(a),children:"详情"},"detail"),i.jsx("a",{onClick:()=>k(a),children:"编辑"},"edit"),i.jsx("a",{onClick:()=>(async e=>{r?.confirm({title:"是否确认删除",icon:null,onOk:async()=>{let t=await j({aiPipelineId:e.aiPipelineId});n(t)||(d.success(t.msg),y.current?.reload())}})})(a),children:"删除"},"del")]}];return i.jsxs("div",{children:[i.jsx(a,{columns:P,actionRef:y,cardBordered:!0,params:{},request:async(e={},t,i)=>{let a={pageNum:e.current,pageSize:e.pageSize,pageSort:t},o=await m({...e,...a});return{data:o.data.list,success:1e3===o.code,total:o.data.total}},editable:{type:"multiple"},columnsState:{persistenceKey:"aiPipeline-pro-table",persistenceType:"localStorage",onChange(e){}},rowKey:"aiPipelineId",search:{labelWidth:"auto",defaultCollapsed:!1},options:{setting:{listsHeight:400}},form:{syncToUrl:!1},pagination:{defaultPageSize:10,showSizeChanger:!0},dateFormatter:"string",headerTitle:"列表",toolBarRender:()=>[i.jsx(o,{icon:i.jsx(x,{}),onClick:()=>{k()},type:"primary",children:"新建"},"button")]}),i.jsx(s,{title:"详情",open:h!==t.close,width:"75%",destroyOnClose:!0,maskClosable:!1,onClose:()=>T(t.close),footer:null,children:i.jsx("div",{children:i.jsx(p,{detailId:C})})}),i.jsx(s,{title:f==t.edit?"编辑":"新增",open:f!==t.close,width:"50%",destroyOnClose:!0,maskClosable:!1,onClose:()=>g(t.close),footer:null,children:i.jsx("div",{children:i.jsx(c,{detailId:C??0,operateEnum:f,setAddOrUpdateModalFn:g,reloadTable:()=>{y.current?.reload()}})})}),i.jsx(s,{title:i.jsxs("div",{style:{alignItems:"center",alignContent:"center",width:"100%"},children:[i.jsx("span",{children:"编排"}),i.jsx(l,{color:"red",style:{marginLeft:"30px"},children:"流水线的命名，描述，参数的命名和描述 至关重要，ai会去根据这些命名自动化的去赋予对应的参数值和调用"})]}),open:b!==t.close,width:"100%",destroyOnClose:!0,maskClosable:!1,onClose:()=>v(t.close),footer:null,children:i.jsx("div",{children:i.jsx(u,{aiPipelineId:C??0,closeModal:()=>v(t.close)})})})]})};export{y as default};
