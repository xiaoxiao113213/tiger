import{r as e,i as t,F as r,j as i,B as s,D as o,m}from"./index-03adb9ee.js";import n from"./formComponent-661a5f6d.js";import l from"./index-dc46b847.js";import{C as a}from"./index-3585a1a3.js";import"./Title-06decefc.js";import"./Input-51214805.js";import"./TextArea-24b2fc1a.js";import"./Bo-c1a8a5bb.js";import"./customerFieldNew-4c66ff92.js";import"./customerText-d905b3cb.js";import"./customerTextArea-b54e4aae.js";import"./customerSelect-ae4ebf75.js";import"./MinusCircleOutlined-ad177d4a.js";import"./MinusCircleOutlined-47af1d51.js";import"./PlusOutlined-b4032aa8.js";import"./customerMutSelect-fbe47964.js";import"./CustomerFile-75bdcaec.js";import"./CustomerDate-852678e3.js";import"./customerNumber-dffe68a9.js";import"./DeleteOutlined-2f949a39.js";import"./textSubmit-bd6c5b40.js";import"./textAreaSubmit-3b52d66b.js";import"./SelectSubmit-4c180fb2.js";import"./MutSelectSubmit-064a257d.js";import"./FileSubmit-a73b537e.js";import"./DateSubmit-95284b79.js";import"./NumberSubmit-77884c9b.js";const p=()=>{const[p,u]=e.useState(!1),j=t.useRef(null),[c]=r.useForm(),[d,x]=e.useState([]);return i.jsxs(i.Fragment,{children:[i.jsx(s,{type:"primary",onClick:()=>{u(!0)},children:"Open Modal"}),i.jsx(a,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:"表单设计"}),i.jsx(s,{type:"primary",onClick:()=>u(!0),children:"设计表单"})]}),children:i.jsx(r,{form:c,validateTrigger:"false",onValuesChange:(e,t)=>{d.forEach((t=>{e.hasOwnProperty(t.id)&&(t.value=e[t.id])})),x(d)},children:d.map((e=>i.jsx(l,{initFieldBo:e},e.id)))})}),i.jsx(o,{title:"表单设计",open:p,onClose:()=>u(!1),extra:i.jsx(s,{onClick:()=>{const e=j.current?.getFieldList();if(!e)return;e.forEach((t=>{if(""===t.keyName)throw m.error("有字段的唯一标识为空"),new Error("有字段的唯一标识为空");const r=e.filter((e=>e.keyName===t.keyName));if(r.length>1)throw m.error(`有重复的唯一标识【${r[0].keyName}】`),new Error(`有重复的唯一标识【${r[0].keyName}】`)})),x(e);const t={};e.forEach((e=>{t[e.id]=e.value})),c.setFieldsValue(t),u(!1)},type:"primary",children:"确定"}),width:"100%",destroyOnClose:!0,keyboard:!1,children:i.jsx(n,{ref:j,initFormDesign:d})})]})};export{p as default};
