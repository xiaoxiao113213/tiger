import{j as e,r as t}from"./index-03adb9ee.js";import{R as s,u as o,l as i,m as d,i as n,n as r,C as a,B as m}from"./index-19b1aa5f.js";/* empty css              */import{M as l}from"./uilts-8b8185ea.js";import{buildData as p}from"./dataUtil-e2413443.js";import j from"./CustomEdge-6ea755a4.js";import c from"./StartNode-bc5e087f.js";import f from"./StageNode-1de82840.js";import u from"./StepNode-cd9fc784.js";/* empty css             */import"./context-b6a1069a.js";const g={startNode:c,stageNode:f,stepNode:u},x={"custom-edge":j},h=s=>{let j=o();const[c,f,u]=i([]),[h,S,y]=d([]),N=async()=>{let e=p(s?.detail?.pipelineBuildStageList??[]);f([...e.nodes]),S([...e.edges]),setTimeout((()=>{j.fitView()}),200)};return t.useEffect((()=>{N()}),[s.detail]),e.jsx(l.Provider,{value:{initData:N},children:e.jsxs(n,{nodes:c,edges:h,connectionLineType:r.SmoothStep,defaultEdgeOptions:{animated:!0,type:"custom-edge"},nodeTypes:g,edgeTypes:x,fitView:!0,minZoom:.01,zoomOnScroll:!1,children:[e.jsx(a,{}),e.jsx(m,{variant:"dots",gap:12,size:1})]})})};function S(t){return e.jsx("div",{style:{width:"100%",height:"50vh"},children:e.jsx(s,{children:e.jsx(h,{detail:t.detail,nodeClickFn:t.nodeClickFn})})})}export{S as default};
